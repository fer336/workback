{
  "active": false,
  "connections": {
    "Calendario": {
      "main": [
        [
          {
            "node": "Switch2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Hamburguesas": {
      "main": [
        [
          {
            "node": "cancelar7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Veggie": {
      "main": [
        [
          {
            "node": "cancelar6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Fries": {
      "main": [
        [
          {
            "node": "cancelar5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Ensaladas": {
      "main": [
        [
          {
            "node": "cancelar4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Tostados": {
      "main": [
        [
          {
            "node": "cancelar3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista bebidas sin gas": {
      "main": [
        [
          {
            "node": "cancelar2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Cervezas": {
      "main": [
        [
          {
            "node": "cancelar1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista Tragos": {
      "main": [
        [
          {
            "node": "cancelar",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Lista General": {
      "main": [
        [
          {
            "node": "cancelar8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch2": {
      "main": [
        [
          {
            "node": "Lista Hamburguesas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Lista Veggie",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Lista Fries",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Lista Ensaladas",
            "type": "main",
            "index": 0
          }
        ],
        [],
        [
          {
            "node": "Lista Tostados",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Lista bebidas sin gas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Lista Cervezas",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Lista Tragos",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-05-14T15:06:10.693Z",
  "id": "X7HpeR5PlAtWKQXi",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "AGENTE DELIVERY - LISTAS",
  "nodes": [
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "numero_cliente",
              "type": "any"
            },
            {
              "name": "session_id"
            },
            {
              "name": "url",
              "type": "any"
            },
            {
              "name": "instancia",
              "type": "any"
            },
            {
              "name": "apikey",
              "type": "any"
            },
            {
              "name": "tittle"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -2760,
        580
      ],
      "id": "06e9e1fe-234d-423a-bc34-f35d7b97d20c",
      "name": "Calendario"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        1300
      ],
      "id": "6291c436-07a8-4505-ba8f-85c66f2f922f",
      "name": "cancelar",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú detallado de hamburguesas\nfunction generarMenuBurgersDetallado(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍔 Burgers con Papas\",\n      \"description\": \"Nuestras deliciosas hamburguesas vienen con papas fritas\",\n      \"buttonText\": \"Ver Hamburguesas\",\n      \"footerText\": \"Todas incluyen medallón blend secreto y acompañan papas fritas\",\n      \"sections\": [\n        {\n          \"title\": \"🍔 Hamburguesas\",\n          \"rows\": [\n            {\n              \"title\": \"Sistons\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, alioli de berenjena ahumada, pepinillos.\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_sistons\"\n            },\n            {\n              \"title\": \"Candy\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, cebolla caramelizada\\nSimple: $16.500 | Doble: $19.100 | Triple: $21.900\",\n              \"rowId\": \"burger_candy\"\n            },\n            {\n              \"title\": \"Crispy Onion\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, ali oli, mil islas, cebolla crispy, pepinillos (opcional)\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_crispy_onion\"\n            },\n            {\n              \"title\": \"American\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, ketchup, mostaza, cebolla cubitos, pepinillos\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_american\"\n            },\n            {\n              \"title\": \"Classic\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, salsa mil islas, cebollas, pepinillos, lechuga, tomate\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_classic\"\n            },\n            {\n              \"title\": \"Tasty\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, lechuga, tomate, cebolla morada, aderezo tasty\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_tasty\"\n            },\n            {\n              \"title\": \"Fried Onion\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, cebolla smasheada en la plancha\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_fried_onion\"\n            },\n            {\n              \"title\": \"Fried Onion 2.0\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, cebolla smasheada en la plancha, ali oli, pepinillos (opcional)\\nSimple: $15.800 | Doble: $18.800 | Triple: $21.000\",\n              \"rowId\": \"burger_fried_onion2\"\n            },\n            {\n              \"title\": \"Cheese Bacon\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_cheese_bacon\"\n            },\n            {\n              \"title\": \"Stacker\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, salsa stacker\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_stacker\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🧀 Hamburguesas con Quesos Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Cheese Burger\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4\\nSimple: $14.500 | Doble: $17.300\",\n              \"rowId\": \"burger_cheese\"\n            },\n            {\n              \"title\": \"Blue Cheese\",\n              \"description\": \"Medallón 120gr (blend secreto), queso emmental x2, queso azul, bacon ahumado, cebolla morada\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_blue_cheese\"\n            },\n            {\n              \"title\": \"Triple Queso\",\n              \"description\": \"3 medallones 120gr (blend secreto), x6 cheddar\\n$19.800\",\n              \"rowId\": \"burger_triple_queso\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🔥 Hamburguesas Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Butter Sriracha\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, manteca, sriracha\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_sriracha\"\n            },\n            {\n              \"title\": \"Gesell Burger\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, cebolla brunoise salteada, mayonesa heinz\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_gesell\"\n            },\n            {\n              \"title\": \"Pina Burger\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, aros de cebolla, barbacoa, aioli ahumado\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_pina\"\n            },\n            {\n              \"title\": \"Cheese Bacon Egg\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, huevo a la plancha\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_cheese_bacon_egg\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🌟 Premium\",\n          \"rows\": [\n            {\n              \"title\": \"Juicy\",\n              \"description\": \"Medallón 120gr blend secreto, cheddar x4, bacon ahumado (2 fetas por medallón), cebolla morada, salsa secreta, pepinillos\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_juicy\"\n            },\n            {\n              \"title\": \"Sistons Scott\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4, ketchup, mostaza, cebolla en cubos, pepinillos, lechuga, bacon\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_sistons_scott\"\n            },\n            {\n              \"title\": \"Chicken Burger\",\n              \"description\": \"Pollo crispy, salsa caesar, lechuga, crispy, bacon, cheddar\\n$16.700\",\n              \"rowId\": \"burger_chicken\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para opciones de tamaño para una hamburguesa específica\n// (mostrando los precios específicos para esa hamburguesa)\nfunction generarOpcionesTamano(numeroCliente, burgerId) {\n  // Base de datos de hamburguesas\n  const hamburguesas = {\n    \"burger_sistons\": {\n      nombre: \"Sistons\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, alioli de berenjena ahumada, pepinillos\",\n      precioSimple: 16500,\n      precioDoble: 19000,\n      precioTriple: 21900\n    },\n    \"burger_candy\": {\n      nombre: \"Candy\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, cebolla caramelizada\",\n      precioSimple: 16500,\n      precioDoble: 19100,\n      precioTriple: 21900\n    },\n    \"burger_crispy_onion\": {\n      nombre: \"Crispy Onion\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, ali oli, mil islas, cebolla crispy, pepinillos (opcional)\",\n      precioSimple: 16700,\n      precioDoble: 19800,\n      precioTriple: 22900\n    },\n    \"burger_american\": {\n      nombre: \"American\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, ketchup, mostaza, cebolla cubitos, pepinillos\",\n      precioSimple: 15300,\n      precioDoble: 18100,\n      precioTriple: 21000\n    },\n    \"burger_classic\": {\n      nombre: \"Classic\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, salsa mil islas, cebollas, pepinillos, lechuga, tomate\",\n      precioSimple: 15300,\n      precioDoble: 18100,\n      precioTriple: 21000\n    },\n    \"burger_tasty\": {\n      nombre: \"Tasty\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, lechuga, tomate, cebolla morada, aderezo tasty\",\n      precioSimple: 15300,\n      precioDoble: 18100,\n      precioTriple: 21000\n    },\n    \"burger_fried_onion\": {\n      nombre: \"Fried Onion\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, cebolla smasheada en la plancha\",\n      precioSimple: 15300,\n      precioDoble: 18100,\n      precioTriple: 21000\n    },\n    \"burger_fried_onion2\": {\n      nombre: \"Fried Onion 2.0\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, cebolla smasheada en la plancha, ali oli, pepinillos (opcional)\",\n      precioSimple: 15800,\n      precioDoble: 18800,\n      precioTriple: 21000\n    },\n    \"burger_cheese_bacon\": {\n      nombre: \"Cheese Bacon\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado\",\n      precioSimple: 16500,\n      precioDoble: 19000,\n      precioTriple: 21900\n    },\n    \"burger_stacker\": {\n      nombre: \"Stacker\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, salsa stacker\",\n      precioSimple: 16500,\n      precioDoble: 19000,\n      precioTriple: 21900\n    },\n    \"burger_cheese\": {\n      nombre: \"Cheese Burger\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4\",\n      precioSimple: 14500,\n      precioDoble: 17300,\n      precioTriple: null\n    },\n    \"burger_blue_cheese\": {\n      nombre: \"Blue Cheese\",\n      descripcion: \"Medallón 120gr (blend secreto), queso emmental x2, queso azul, bacon ahumado, cebolla morada\",\n      precioSimple: 16500,\n      precioDoble: 19000,\n      precioTriple: 21900\n    },\n    \"burger_sriracha\": {\n      nombre: \"Butter Sriracha\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, manteca, sriracha\",\n      precioSimple: 15300,\n      precioDoble: 18100,\n      precioTriple: 21000\n    },\n    \"burger_gesell\": {\n      nombre: \"Gesell Burger\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, cebolla brunoise salteada, mayonesa heinz\",\n      precioSimple: 15300,\n      precioDoble: 18100,\n      precioTriple: 21000\n    },\n    \"burger_pina\": {\n      nombre: \"Pina Burger\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, aros de cebolla, barbacoa, aioli ahumado\",\n      precioSimple: 16700,\n      precioDoble: 19800,\n      precioTriple: 22900\n    },\n    \"burger_cheese_bacon_egg\": {\n      nombre: \"Cheese Bacon Egg\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, bacon ahumado, huevo a la plancha\",\n      precioSimple: 16700,\n      precioDoble: 19800,\n      precioTriple: 22900\n    },\n    \"burger_juicy\": {\n      nombre: \"Juicy\",\n      descripcion: \"Medallón 120gr blend secreto, cheddar x4, bacon ahumado (2 fetas por medallón), cebolla morada, salsa secreta, pepinillos\",\n      precioSimple: 16700,\n      precioDoble: 19800,\n      precioTriple: 22900\n    },\n    \"burger_sistons_scott\": {\n      nombre: \"Sistons Scott\",\n      descripcion: \"Medallón 120gr (blend secreto), cheddar x4, ketchup, mostaza, cebolla en cubos, pepinillos, lechuga, bacon\",\n      precioSimple: 16700,\n      precioDoble: 19800,\n      precioTriple: 22900\n    },\n    \"burger_triple_queso\": {\n      nombre: \"Triple Queso\",\n      descripcion: \"3 medallones 120gr (blend secreto), x6 cheddar\",\n      precioSimple: 19800,\n      precioDoble: null,\n      precioTriple: null\n    },\n    \"burger_chicken\": {\n      nombre: \"Chicken Burger\",\n      descripcion: \"Pollo crispy, salsa caesar, lechuga, crispy, bacon, cheddar\",\n      precioSimple: 16700,\n      precioDoble: null,\n      precioTriple: null\n    }\n  };\n  \n  // Obtener la hamburguesa seleccionada\n  const hamburguesa = hamburguesas[burgerId];\n  \n  if (!hamburguesa) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la hamburguesa seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Crear las filas para las opciones de tamaño\n  const rows = [];\n  \n  // Opción Simple\n  if (hamburguesa.precioSimple !== null) {\n    rows.push({\n      \"title\": \"Simple\",\n      \"description\": `1 medallón 120gr | Precio: $${hamburguesa.precioSimple.toLocaleString('es-AR')}`,\n      \"rowId\": `${burgerId}_simple`\n    });\n  }\n  \n  // Opción Doble\n  if (hamburguesa.precioDoble !== null) {\n    rows.push({\n      \"title\": \"Doble\",\n      \"description\": `2 medallones 120gr | Precio: $${hamburguesa.precioDoble.toLocaleString('es-AR')}`,\n      \"rowId\": `${burgerId}_doble`\n    });\n  }\n  \n  // Opción Triple\n  if (hamburguesa.precioTriple !== null) {\n    rows.push({\n      \"title\": \"Triple\",\n      \"description\": `3 medallones 120gr | Precio: $${hamburguesa.precioTriple.toLocaleString('es-AR')}`,\n      \"rowId\": `${burgerId}_triple`\n    });\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍔 ${hamburguesa.nombre}`,\n      \"description\": `${hamburguesa.descripcion}\\n\\nSelecciona el tamaño que prefieres:`,\n      \"buttonText\": \"Seleccionar Tamaño\",\n      \"footerText\": \"Todas nuestras hamburguesas incluyen papas fritas\",\n      \"sections\": [\n        {\n          \"title\": \"🔄 Tamaño\",\n          \"rows\": rows\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Hamburguesas\",\n              \"description\": \"Ver otras opciones de hamburguesas\",\n              \"rowId\": \"volver_burgers\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para el menú de Veggies con papas\nfunction generarMenuVeggies(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥗 Veggies con Papas\",\n      \"description\": \"Nuestras hamburguesas vegetarianas vienen con papas fritas\",\n      \"buttonText\": \"Ver Veggie Burgers\",\n      \"footerText\": \"Opciones vegetarianas deliciosas\",\n      \"sections\": [\n        {\n          \"title\": \"🌱 Hamburguesas Vegetarianas\",\n          \"rows\": [\n            {\n              \"title\": \"Veggie Classic\",\n              \"description\": \"Hamburguesa de lentejas, queso, lechuga, tomate y aderezo especial\\n$15.300\",\n              \"rowId\": \"veggie_classic\"\n            },\n            {\n              \"title\": \"Veggie Mushroom\",\n              \"description\": \"Hamburguesa de hongos portobello, queso, rúcula y aderezo de ajo\\n$16.500\",\n              \"rowId\": \"veggie_mushroom\"\n            },\n            {\n              \"title\": \"Veggie Deluxe\",\n              \"description\": \"Hamburguesa de garbanzos y remolacha, queso, espinaca y palta\\n$16.700\",\n              \"rowId\": \"veggie_deluxe\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para el menú de Fries\nfunction generarMenuFries(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍟 Fries\",\n      \"description\": \"Nuestras deliciosas papas fritas y toppings\",\n      \"buttonText\": \"Ver Opciones\",\n      \"footerText\": \"Papas fritas para todos los gustos\",\n      \"sections\": [\n        {\n          \"title\": \"🍟 Papas Fritas\",\n          \"rows\": [\n            {\n              \"title\": \"Papas Tradicionales\",\n              \"description\": \"Papas fritas clásicas con sal\\n$8.500\",\n              \"rowId\": \"fries_classic\"\n            },\n            {\n              \"title\": \"Papas con Cheddar\",\n              \"description\": \"Papas fritas con salsa cheddar\\n$10.500\",\n              \"rowId\": \"fries_cheddar\"\n            },\n            {\n              \"title\": \"Papas con Bacon y Cheddar\",\n              \"description\": \"Papas fritas con bacon crocante y salsa cheddar\\n$12.500\",\n              \"rowId\": \"fries_bacon_cheddar\"\n            },\n            {\n              \"title\": \"Papas Rústicas\",\n              \"description\": \"Papas cortadas en gajos con especias\\n$9.500\",\n              \"rowId\": \"fries_rustic\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para exportar todas las funciones\nmodule.exports = {\n  generarMenuBurgersDetallado,\n  generarOpcionesTamano,\n  generarMenuVeggies,\n  generarMenuFries\n};\n\n// Por defecto, devolver el menú detallado de hamburguesas\nreturn generarMenuBurgersDetallado($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        -100
      ],
      "id": "8b92f6fc-7502-4b56-9430-6710558f7588",
      "name": "Lista Hamburguesas"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de hamburguesas vegetarianas\nfunction generarMenuVeggies(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🌱 Veggies con Papas\",\n      \"description\": \"Nuestras hamburguesas vegetarianas vienen con papas fritas\",\n      \"buttonText\": \"Ver Veggie Burgers\",\n      \"footerText\": \"Opciones vegetarianas con papas fritas incluidas\",\n      \"sections\": [\n        {\n          \"title\": \"🌱 Hamburguesas Vegetarianas\",\n          \"rows\": [\n            {\n              \"title\": \"Not Crispy\",\n              \"description\": \"Medallón 120gr, cebolla crispy, ali oli de berenjena ahumada, mil islas, cheddar x2, pepinillos\\nSimple: $17.000 | Doble: $19.800\",\n              \"rowId\": \"veggie_not_crispy\"\n            },\n            {\n              \"title\": \"Poroto Aduki Burger\",\n              \"description\": \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\\n$14.000\",\n              \"rowId\": \"veggie_poroto\"\n            },\n            {\n              \"title\": \"Calabaza Burger\",\n              \"description\": \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\\n$14.000\",\n              \"rowId\": \"veggie_calabaza\"\n            },\n            {\n              \"title\": \"Lenteja Burger\",\n              \"description\": \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\\n$14.000\",\n              \"rowId\": \"veggie_lenteja\"\n            },\n            {\n              \"title\": \"Remolacha Burger\",\n              \"description\": \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\\n$14.000\",\n              \"rowId\": \"veggie_remolacha\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para opciones de tamaño para una hamburguesa vegetariana específica\nfunction generarOpcionesTamanoVeggie(numeroCliente, veggieId) {\n  // Base de datos de hamburguesas vegetarianas\n  const veggies = {\n    \"veggie_not_crispy\": {\n      nombre: \"Not Crispy\",\n      descripcion: \"Medallón 120gr, cebolla crispy, ali oli de berenjena ahumada, mil islas, cheddar x2, pepinillos\",\n      precioSimple: 17000,\n      precioDoble: 19800\n    },\n    \"veggie_poroto\": {\n      nombre: \"Poroto Aduki Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000,\n      precioDoble: null\n    },\n    \"veggie_calabaza\": {\n      nombre: \"Calabaza Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000,\n      precioDoble: null\n    },\n    \"veggie_lenteja\": {\n      nombre: \"Lenteja Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000,\n      precioDoble: null\n    },\n    \"veggie_remolacha\": {\n      nombre: \"Remolacha Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000,\n      precioDoble: null\n    }\n  };\n  \n  // Obtener la hamburguesa vegetariana seleccionada\n  const veggie = veggies[veggieId];\n  \n  if (!veggie) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la hamburguesa vegetariana seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Crear las filas para las opciones de tamaño\n  const rows = [];\n  \n  // Opción Simple\n  if (veggie.precioSimple !== null) {\n    rows.push({\n      \"title\": \"Simple\",\n      \"description\": `Precio: $${veggie.precioSimple.toLocaleString('es-AR')}`,\n      \"rowId\": `${veggieId}_simple`\n    });\n  }\n  \n  // Opción Doble (solo Not Crispy tiene esta opción)\n  if (veggie.precioDoble !== null) {\n    rows.push({\n      \"title\": \"Doble\",\n      \"description\": `Precio: $${veggie.precioDoble.toLocaleString('es-AR')}`,\n      \"rowId\": `${veggieId}_doble`\n    });\n  }\n  \n  const sections = [\n    {\n      \"title\": \"🔄 Tamaño\",\n      \"rows\": rows\n    },\n    {\n      \"title\": \"⬅️ Navegación\",\n      \"rows\": [\n        {\n          \"title\": \"Volver a Hamburguesas Vegetarianas\",\n          \"description\": \"Ver otras opciones vegetarianas\",\n          \"rowId\": \"volver_veggies\"\n        },\n        {\n          \"title\": \"Volver al Menú Principal\",\n          \"description\": \"Ver otras categorías\",\n          \"rowId\": \"volver_menu\"\n        }\n      ]\n    }\n  ];\n  \n  // Si solo hay una opción de tamaño, ir directamente al mensaje de IA\n  if (rows.length === 1 && !veggie.precioDoble) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": `¡Excelente elección! Has seleccionado una ${veggie.nombre}.\\n\\n${veggie.descripcion}\\n\\nPrecio: $${veggie.precioSimple.toLocaleString('es-AR')}\\n\\n¿Deseas personalizar tu hamburguesa? Puedes decirme si quieres quitar o agregar algún ingrediente.\\n\\nPor ejemplo:\\n- \"Sin cebolla\"\\n- \"Sin palta\"\\n- \"Extra queso\"\\n\\nO simplemente dime \"Está bien así\" para continuar con tu pedido.`\n      }\n    ];\n  }\n  \n  // Si tiene múltiples opciones, mostrar la lista\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🌱 ${veggie.nombre}`,\n      \"description\": `${veggie.descripcion}\\n\\nSelecciona el tamaño que prefieres:`,\n      \"buttonText\": \"Seleccionar\",\n      \"footerText\": \"Todas nuestras hamburguesas incluyen papas fritas\",\n      \"sections\": sections\n    }\n  ];\n}\n\n// Función para mensaje IA específico para hamburguesas vegetarianas\nfunction mensajeIAVeggie(numeroCliente, veggieId, tamano) {\n  // Base de datos de hamburguesas vegetarianas\n  const veggies = {\n    \"veggie_not_crispy\": {\n      nombre: \"Not Crispy\",\n      descripcion: \"Medallón 120gr, cebolla crispy, ali oli de berenjena ahumada, mil islas, cheddar x2, pepinillos\",\n      precioSimple: 17000,\n      precioDoble: 19800\n    },\n    \"veggie_poroto\": {\n      nombre: \"Poroto Aduki Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000\n    },\n    \"veggie_calabaza\": {\n      nombre: \"Calabaza Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000\n    },\n    \"veggie_lenteja\": {\n      nombre: \"Lenteja Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000\n    },\n    \"veggie_remolacha\": {\n      nombre: \"Remolacha Burger\",\n      descripcion: \"Medallón veggie de 150gr, ali oli de berenjena ahumada, morrones asados, lechuga, cebolla morada, palta, cheddar x2\",\n      precioSimple: 14000\n    }\n  };\n  \n  // Obtener la hamburguesa vegetariana seleccionada\n  const veggie = veggies[veggieId];\n  \n  if (!veggie) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la hamburguesa vegetariana seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  const precio = tamano === 'simple' ? veggie.precioSimple : veggie.precioDoble;\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"type\": \"text\",\n      \"text\": `¡Excelente elección! Has seleccionado una ${veggie.nombre} ${tamano !== 'simple' ? tamano : ''}.\\n\\n${veggie.descripcion}\\n\\nPrecio: $${precio.toLocaleString('es-AR')}\\n\\n¿Deseas personalizar tu hamburguesa? Puedes decirme si quieres quitar o agregar algún ingrediente.\\n\\nPor ejemplo:\\n- \"Sin cebolla morada\"\\n- \"Sin palta\"\\n- \"Extra queso\"\\n\\nO simplemente dime \"Está bien así\" para continuar con tu pedido.`\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuVeggies,\n  generarOpcionesTamanoVeggie,\n  mensajeIAVeggie\n};\n\n// Por defecto, devolver el menú de hamburguesas vegetarianas\nreturn generarMenuVeggies($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        100
      ],
      "id": "a3380c19-4d64-4591-8f0a-2c31b6703e28",
      "name": "Lista Veggie"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de Fries (papas y bocaditos)\nfunction generarMenuFries(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍟 Fries & Bocaditos\",\n      \"description\": \"Nuestras deliciosas opciones de papas fritas y bocaditos\",\n      \"buttonText\": \"Ver Opciones\",\n      \"footerText\": \"Acompañamientos perfectos para compartir\",\n      \"sections\": [\n        {\n          \"title\": \"🍟 Papas Fritas\",\n          \"rows\": [\n            {\n              \"title\": \"Papas clasicas\",\n              \"description\": \"500gr\\n$12.000\",\n              \"rowId\": \"fries_clasicas\"\n            },\n            {\n              \"title\": \"Papas con Cheddar\",\n              \"description\": \"500gr\\n$13.600\",\n              \"rowId\": \"fries_cheddar\"\n            },\n            {\n              \"title\": \"Papas Cheddar, Bacon y verdeo\",\n              \"description\": \"500gr\\n$15.000\",\n              \"rowId\": \"fries_cheddar_bacon\"\n            },\n            {\n              \"title\": \"Papas Sistons\",\n              \"description\": \"Ali oli de berenjena ahumada y bacon, 500gr\\n$15.300\",\n              \"rowId\": \"fries_sistons\"\n            },\n            {\n              \"title\": \"Papas Tasty\",\n              \"description\": \"Aderezo tasty y bacon, 500gr\\n$15.300\",\n              \"rowId\": \"fries_tasty\"\n            },\n            {\n              \"title\": \"Papas rejillas\",\n              \"description\": \"400gr\\n$12.000\",\n              \"rowId\": \"fries_rejillas\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🍤 Fritos Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Onion Rings\",\n              \"description\": \"Aros de cebolla rebozados\\n$15.300\",\n              \"rowId\": \"fries_onion_rings\"\n            },\n            {\n              \"title\": \"Porción De Rabas\",\n              \"description\": \"400gr + dips\\n$21.400\",\n              \"rowId\": \"fries_rabas\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🧀 Bocaditos & Fingers\",\n          \"rows\": [\n            {\n              \"title\": \"Tabla De Bocaditos\",\n              \"description\": \"Chicken Fingers, Bastoncitos muzzarella, Tequeños, Bocaditos acelga y queso, Dips de alioli y barbacoa\\n$36.800\",\n              \"rowId\": \"fries_tabla_bocaditos\"\n            },\n            {\n              \"title\": \"Tequeños\",\n              \"description\": \"Con guarni de fritas + dip barbacoa picante y ali oli\\n$15.000\",\n              \"rowId\": \"fries_tequenos\"\n            },\n            {\n              \"title\": \"Chicken Fingers\",\n              \"description\": \"Chiken Fingers + papas\\n$15.500\",\n              \"rowId\": \"fries_chicken_fingers\"\n            },\n            {\n              \"title\": \"Bastones de Muzza\",\n              \"description\": \"300gr + papas\\n$13.600\",\n              \"rowId\": \"fries_bastones_muzza\"\n            },\n            {\n              \"title\": \"Bocaditos De Espinaca Y Queso\",\n              \"description\": \"300gr + papas\\n$13.600\",\n              \"rowId\": \"fries_bocaditos_espinaca\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejar la selección de un producto de Fries\nfunction seleccionarProductoFries(numeroCliente, friesId) {\n  // Base de datos de productos Fries\n  const productos = {\n    \"fries_clasicas\": {\n      nombre: \"Papas clasicas\",\n      descripcion: \"500gr\",\n      precio: 12000\n    },\n    \"fries_cheddar\": {\n      nombre: \"Papas con Cheddar\",\n      descripcion: \"500gr\",\n      precio: 13600\n    },\n    \"fries_cheddar_bacon\": {\n      nombre: \"Papas Cheddar, Bacon y verdeo\",\n      descripcion: \"500gr\",\n      precio: 15000\n    },\n    \"fries_sistons\": {\n      nombre: \"Papas Sistons\",\n      descripcion: \"Ali oli de berenjena ahumada y bacon, 500gr\",\n      precio: 15300\n    },\n    \"fries_tasty\": {\n      nombre: \"Papas Tasty\",\n      descripcion: \"Aderezo tasty y bacon, 500gr\",\n      precio: 15300\n    },\n    \"fries_rejillas\": {\n      nombre: \"Papas rejillas\",\n      descripcion: \"400gr\",\n      precio: 12000\n    },\n    \"fries_onion_rings\": {\n      nombre: \"Onion Rings\",\n      descripcion: \"Aros de cebolla rebozados\",\n      precio: 15300\n    },\n    \"fries_rabas\": {\n      nombre: \"Porción De Rabas\",\n      descripcion: \"400gr + dips\",\n      precio: 21400\n    },\n    \"fries_tabla_bocaditos\": {\n      nombre: \"Tabla De Bocaditos\",\n      descripcion: \"Chicken Fingers, Bastoncitos muzzarella, Tequeños, Bocaditos acelga y queso, Dips de alioli y barbacoa\",\n      precio: 36800\n    },\n    \"fries_tequenos\": {\n      nombre: \"Tequeños\",\n      descripcion: \"Con guarni de fritas + dip barbacoa picante y ali oli\",\n      precio: 15000\n    },\n    \"fries_chicken_fingers\": {\n      nombre: \"Chicken Fingers\",\n      descripcion: \"Chiken Fingers + papas\",\n      precio: 15500\n    },\n    \"fries_bastones_muzza\": {\n      nombre: \"Bastones de Muzza\",\n      descripcion: \"300gr + papas\",\n      precio: 13600\n    },\n    \"fries_bocaditos_espinaca\": {\n      nombre: \"Bocaditos De Espinaca Y Queso\",\n      descripcion: \"300gr + papas\",\n      precio: 13600\n    }\n  };\n  \n  // Obtener el producto seleccionado\n  const producto = productos[friesId];\n  \n  if (!producto) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el producto seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Como los productos Fries no tienen opciones de tamaño, ir directo a confirmación/personalización\n  return mensajeIAFries(numeroCliente, friesId);\n}\n\n// Función para mensaje IA específico para productos Fries\nfunction mensajeIAFries(numeroCliente, friesId) {\n  // Base de datos de productos Fries\n  const productos = {\n    \"fries_clasicas\": {\n      nombre: \"Papas clasicas\",\n      descripcion: \"500gr\",\n      precio: 12000\n    },\n    \"fries_cheddar\": {\n      nombre: \"Papas con Cheddar\",\n      descripcion: \"500gr\",\n      precio: 13600\n    },\n    \"fries_cheddar_bacon\": {\n      nombre: \"Papas Cheddar, Bacon y verdeo\",\n      descripcion: \"500gr\",\n      precio: 15000\n    },\n    \"fries_sistons\": {\n      nombre: \"Papas Sistons\",\n      descripcion: \"Ali oli de berenjena ahumada y bacon, 500gr\",\n      precio: 15300\n    },\n    \"fries_tasty\": {\n      nombre: \"Papas Tasty\",\n      descripcion: \"Aderezo tasty y bacon, 500gr\",\n      precio: 15300\n    },\n    \"fries_rejillas\": {\n      nombre: \"Papas rejillas\",\n      descripcion: \"400gr\",\n      precio: 12000\n    },\n    \"fries_onion_rings\": {\n      nombre: \"Onion Rings\",\n      descripcion: \"Aros de cebolla rebozados\",\n      precio: 15300\n    },\n    \"fries_rabas\": {\n      nombre: \"Porción De Rabas\",\n      descripcion: \"400gr + dips\",\n      precio: 21400\n    },\n    \"fries_tabla_bocaditos\": {\n      nombre: \"Tabla De Bocaditos\",\n      descripcion: \"Chicken Fingers, Bastoncitos muzzarella, Tequeños, Bocaditos acelga y queso, Dips de alioli y barbacoa\",\n      precio: 36800\n    },\n    \"fries_tequenos\": {\n      nombre: \"Tequeños\",\n      descripcion: \"Con guarni de fritas + dip barbacoa picante y ali oli\",\n      precio: 15000\n    },\n    \"fries_chicken_fingers\": {\n      nombre: \"Chicken Fingers\",\n      descripcion: \"Chiken Fingers + papas\",\n      precio: 15500\n    },\n    \"fries_bastones_muzza\": {\n      nombre: \"Bastones de Muzza\",\n      descripcion: \"300gr + papas\",\n      precio: 13600\n    },\n    \"fries_bocaditos_espinaca\": {\n      nombre: \"Bocaditos De Espinaca Y Queso\",\n      descripcion: \"300gr + papas\",\n      precio: 13600\n    }\n  };\n  \n  // Obtener el producto seleccionado\n  const producto = productos[friesId];\n  \n  if (!producto) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el producto seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍟 ${producto.nombre}`,\n      \"description\": `Has seleccionado: ${producto.nombre}\\n${producto.descripcion}\\nPrecio: $${producto.precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Opciones\",\n      \"footerText\": \"Confirma tu selección o vuelve al menú\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Confirmar\",\n          \"rows\": [\n            {\n              \"title\": \"Agregar al pedido\",\n              \"description\": \"Añadir este producto a tu pedido actual\",\n              \"rowId\": `agregar_${friesId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"🔄 Personalizar\",\n          \"rows\": [\n            {\n              \"title\": \"Solicitar salsa extra\",\n              \"description\": \"Pedir salsas adicionales para este producto\",\n              \"rowId\": `salsa_${friesId}`\n            },\n            {\n              \"title\": \"Hacer una observación\",\n              \"description\": \"Agregar comentarios especiales para este producto\",\n              \"rowId\": `observacion_${friesId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Fries & Bocaditos\",\n              \"description\": \"Elegir otro producto\",\n              \"rowId\": \"volver_fries\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejo de salsas adicionales\nfunction menuSalsasFries(numeroCliente, friesId) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥫 Salsas Adicionales\",\n      \"description\": \"Selecciona las salsas extra que deseas agregar\",\n      \"buttonText\": \"Elegir Salsas\",\n      \"footerText\": \"Las salsas adicionales tienen un costo extra\",\n      \"sections\": [\n        {\n          \"title\": \"🥫 Salsas Disponibles\",\n          \"rows\": [\n            {\n              \"title\": \"Ali Oli\",\n              \"description\": \"Salsa de ajo y aceite de oliva\\n$800\",\n              \"rowId\": `salsa_alioli_${friesId}`\n            },\n            {\n              \"title\": \"Barbacoa\",\n              \"description\": \"Salsa barbacoa ahumada\\n$800\",\n              \"rowId\": `salsa_barbacoa_${friesId}`\n            },\n            {\n              \"title\": \"Cheddar\",\n              \"description\": \"Queso cheddar cremoso\\n$1.000\",\n              \"rowId\": `salsa_cheddar_${friesId}`\n            },\n            {\n              \"title\": \"Salsa Picante\",\n              \"description\": \"Para darle un toque de picor\\n$800\",\n              \"rowId\": `salsa_picante_${friesId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Volver\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al producto\",\n              \"description\": \"Regresar sin agregar salsas\",\n              \"rowId\": `volver_producto_${friesId}`\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuFries,\n  seleccionarProductoFries,\n  mensajeIAFries,\n  menuSalsasFries\n};\n\n// Por defecto, devolver el menú de Fries\nreturn generarMenuFries($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        300
      ],
      "id": "404dd970-130c-4722-bc9e-794534bf7a92",
      "name": "Lista Fries"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de Ensaladas\nfunction generarMenuEnsaladas(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥗 Ensaladas\",\n      \"description\": \"Nuestras frescas y deliciosas ensaladas\",\n      \"buttonText\": \"Ver Ensaladas\",\n      \"footerText\": \"Opciones frescas y saludables\",\n      \"sections\": [\n        {\n          \"title\": \"🥗 Ensaladas Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Ensalada CAESAR\",\n              \"description\": \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa\\n$13.600\",\n              \"rowId\": \"ensalada_caesar\"\n            },\n            {\n              \"title\": \"Ensalada CRISPY\",\n              \"description\": \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa - bacon - cebolla crispy\\n$15.200\",\n              \"rowId\": \"ensalada_crispy\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejar la selección de una ensalada\nfunction seleccionarEnsalada(numeroCliente, ensaladaId) {\n  // Base de datos de ensaladas\n  const ensaladas = {\n    \"ensalada_caesar\": {\n      nombre: \"Ensalada CAESAR\",\n      descripcion: \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa\",\n      precio: 13600,\n      ingredientes: [\"lechugas morada y manteca\", \"croutons\", \"queso en hebras\", \"crocante de pollo\", \"aderezo de la casa\"]\n    },\n    \"ensalada_crispy\": {\n      nombre: \"Ensalada CRISPY\",\n      descripcion: \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa - bacon - cebolla crispy\",\n      precio: 15200,\n      ingredientes: [\"lechugas morada y manteca\", \"croutons\", \"queso en hebras\", \"crocante de pollo\", \"aderezo de la casa\", \"bacon\", \"cebolla crispy\"]\n    }\n  };\n  \n  // Obtener la ensalada seleccionada\n  const ensalada = ensaladas[ensaladaId];\n  \n  if (!ensalada) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la ensalada seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Como las ensaladas no tienen opciones de tamaño, ir directo a confirmación/personalización\n  return mensajeIAEnsalada(numeroCliente, ensaladaId);\n}\n\n// Función para mensaje IA específico para ensaladas\nfunction mensajeIAEnsalada(numeroCliente, ensaladaId) {\n  // Base de datos de ensaladas\n  const ensaladas = {\n    \"ensalada_caesar\": {\n      nombre: \"Ensalada CAESAR\",\n      descripcion: \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa\",\n      precio: 13600,\n      ingredientes: [\"lechugas morada y manteca\", \"croutons\", \"queso en hebras\", \"crocante de pollo\", \"aderezo de la casa\"]\n    },\n    \"ensalada_crispy\": {\n      nombre: \"Ensalada CRISPY\",\n      descripcion: \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa - bacon - cebolla crispy\",\n      precio: 15200,\n      ingredientes: [\"lechugas morada y manteca\", \"croutons\", \"queso en hebras\", \"crocante de pollo\", \"aderezo de la casa\", \"bacon\", \"cebolla crispy\"]\n    }\n  };\n  \n  // Obtener la ensalada seleccionada\n  const ensalada = ensaladas[ensaladaId];\n  \n  if (!ensalada) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la ensalada seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"type\": \"text\",\n      \"text\": `¡Excelente elección! Has seleccionado la ${ensalada.nombre}.\\n\\n${ensalada.descripcion}\\n\\nPrecio: $${ensalada.precio.toLocaleString('es-AR')}\\n\\n¿Deseas personalizar tu ensalada? Puedes decirme si quieres quitar o agregar algún ingrediente.\\n\\nPor ejemplo:\\n- \"Sin croutons\"\\n- \"Sin queso\"\\n- \"Extra pollo\"\\n- \"Aderezo aparte\"\\n\\nO simplemente dime \"Está bien así\" para continuar con tu pedido.`\n    }\n  ];\n}\n\n// Función para confirmar pedido de ensalada\nfunction confirmarEnsalada(numeroCliente, ensaladaId, personalizacion) {\n  // Base de datos de ensaladas\n  const ensaladas = {\n    \"ensalada_caesar\": {\n      nombre: \"Ensalada CAESAR\",\n      descripcion: \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa\",\n      precio: 13600\n    },\n    \"ensalada_crispy\": {\n      nombre: \"Ensalada CRISPY\",\n      descripcion: \"Lechugas morada y manteca -croutons - queso en hebras - crocante de pollo - aderezo de la casa - bacon - cebolla crispy\",\n      precio: 15200\n    }\n  };\n  \n  // Obtener la ensalada seleccionada\n  const ensalada = ensaladas[ensaladaId];\n  \n  if (!ensalada) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, hubo un error al procesar tu pedido. Por favor, intenta nuevamente.\"\n      }\n    ];\n  }\n  \n  let mensajePersonalizacion = \"\";\n  if (personalizacion && personalizacion.length > 0) {\n    mensajePersonalizacion = `\\nPersonalización: ${personalizacion}`;\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🛒 Confirmar Pedido\",\n      \"description\": `Has seleccionado:\\n${ensalada.nombre}\\nPrecio: $${ensalada.precio.toLocaleString('es-AR')}${mensajePersonalizacion}`,\n      \"buttonText\": \"Opciones\",\n      \"footerText\": \"Confirma o agrega más productos\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Confirmar\",\n          \"rows\": [\n            {\n              \"title\": \"Agregar al pedido\",\n              \"description\": \"Añadir este producto a tu pedido actual\",\n              \"rowId\": `agregar_${ensaladaId}`\n            },\n            {\n              \"title\": \"Agregar otro producto\",\n              \"description\": \"Volver al menú para seguir pidiendo\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🔄 Modificar\",\n          \"rows\": [\n            {\n              \"title\": \"Cambiar selección\",\n              \"description\": \"Elegir otra ensalada\",\n              \"rowId\": \"volver_ensaladas\"\n            },\n            {\n              \"title\": \"Modificar personalización\",\n              \"description\": \"Cambiar las personalizaciones\",\n              \"rowId\": `personalizar_${ensaladaId}`\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuEnsaladas,\n  seleccionarEnsalada,\n  mensajeIAEnsalada,\n  confirmarEnsalada\n};\n\n// Por defecto, devolver el menú de ensaladas\nreturn generarMenuEnsaladas($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        500
      ],
      "id": "0e3f554b-2280-4877-b190-8eae6f4983b9",
      "name": "Lista Ensaladas"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de Tostados con papas\nfunction generarMenuTostados(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥪 Tostados con papas\",\n      \"description\": \"Nuestros deliciosos tostados acompañados de papas fritas\",\n      \"buttonText\": \"Ver Tostados\",\n      \"footerText\": \"Todos los tostados incluyen papas fritas\",\n      \"sections\": [\n        {\n          \"title\": \"🥪 Tostados Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Tostado Con cheddar\",\n              \"description\": \"+ papas\\n$7.800\",\n              \"rowId\": \"tostado_cheddar\"\n            },\n            {\n              \"title\": \"Cheddar con huevo\",\n              \"description\": \"Cheddar, Huevo + papas\\n$9.000\",\n              \"rowId\": \"tostado_cheddar_huevo\"\n            },\n            {\n              \"title\": \"Cheddar con bacon\",\n              \"description\": \"Cheddar, Bacon + papas\\n$10.100\",\n              \"rowId\": \"tostado_cheddar_bacon\"\n            },\n            {\n              \"title\": \"Completo\",\n              \"description\": \"Cheddar, Huevo, Panceta, Palta + papas\\n$11.400\",\n              \"rowId\": \"tostado_completo\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejar la selección de un tostado\nfunction seleccionarTostado(numeroCliente, tostadoId) {\n  // Base de datos de tostados\n  const tostados = {\n    \"tostado_cheddar\": {\n      nombre: \"Tostado Con cheddar\",\n      descripcion: \"+ papas\",\n      precio: 7800,\n      ingredientes: [\"pan\", \"queso cheddar\", \"papas fritas\"]\n    },\n    \"tostado_cheddar_huevo\": {\n      nombre: \"Cheddar con huevo\",\n      descripcion: \"Cheddar, Huevo + papas\",\n      precio: 9000,\n      ingredientes: [\"pan\", \"queso cheddar\", \"huevo\", \"papas fritas\"]\n    },\n    \"tostado_cheddar_bacon\": {\n      nombre: \"Cheddar con bacon\",\n      descripcion: \"Cheddar, Bacon + papas\",\n      precio: 10100,\n      ingredientes: [\"pan\", \"queso cheddar\", \"bacon\", \"papas fritas\"]\n    },\n    \"tostado_completo\": {\n      nombre: \"Completo\",\n      descripcion: \"Cheddar, Huevo, Panceta, Palta + papas\",\n      precio: 11400,\n      ingredientes: [\"pan\", \"queso cheddar\", \"huevo\", \"panceta\", \"palta\", \"papas fritas\"]\n    }\n  };\n  \n  // Obtener el tostado seleccionado\n  const tostado = tostados[tostadoId];\n  \n  if (!tostado) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el tostado seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Como los tostados no tienen opciones de tamaño, ir directo a confirmación/personalización\n  return mensajeIATostado(numeroCliente, tostadoId);\n}\n\n// Función para mensaje IA específico para tostados\nfunction mensajeIATostado(numeroCliente, tostadoId) {\n  // Base de datos de tostados\n  const tostados = {\n    \"tostado_cheddar\": {\n      nombre: \"Tostado Con cheddar\",\n      descripcion: \"+ papas\",\n      precio: 7800,\n      ingredientes: [\"pan\", \"queso cheddar\", \"papas fritas\"]\n    },\n    \"tostado_cheddar_huevo\": {\n      nombre: \"Cheddar con huevo\",\n      descripcion: \"Cheddar, Huevo + papas\",\n      precio: 9000,\n      ingredientes: [\"pan\", \"queso cheddar\", \"huevo\", \"papas fritas\"]\n    },\n    \"tostado_cheddar_bacon\": {\n      nombre: \"Cheddar con bacon\",\n      descripcion: \"Cheddar, Bacon + papas\",\n      precio: 10100,\n      ingredientes: [\"pan\", \"queso cheddar\", \"bacon\", \"papas fritas\"]\n    },\n    \"tostado_completo\": {\n      nombre: \"Completo\",\n      descripcion: \"Cheddar, Huevo, Panceta, Palta + papas\",\n      precio: 11400,\n      ingredientes: [\"pan\", \"queso cheddar\", \"huevo\", \"panceta\", \"palta\", \"papas fritas\"]\n    }\n  };\n  \n  // Obtener el tostado seleccionado\n  const tostado = tostados[tostadoId];\n  \n  if (!tostado) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el tostado seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"type\": \"text\",\n      \"text\": `¡Excelente elección! Has seleccionado un ${tostado.nombre}.\\n\\n${tostado.descripcion}\\n\\nPrecio: $${tostado.precio.toLocaleString('es-AR')}\\n\\n¿Deseas personalizar tu tostado? Puedes decirme si quieres quitar o agregar algún ingrediente.\\n\\nPor ejemplo:\\n- \"Sin papas\"\\n- \"Cheddar extra\"\\n- \"Pan integral\"\\n- \"Agregar tomate\"\\n\\nO simplemente dime \"Está bien así\" para continuar con tu pedido.`\n    }\n  ];\n}\n\n// Función para confirmar pedido de tostado\nfunction confirmarTostado(numeroCliente, tostadoId, personalizacion) {\n  // Base de datos de tostados\n  const tostados = {\n    \"tostado_cheddar\": {\n      nombre: \"Tostado Con cheddar\",\n      descripcion: \"+ papas\",\n      precio: 7800\n    },\n    \"tostado_cheddar_huevo\": {\n      nombre: \"Cheddar con huevo\",\n      descripcion: \"Cheddar, Huevo + papas\",\n      precio: 9000\n    },\n    \"tostado_cheddar_bacon\": {\n      nombre: \"Cheddar con bacon\",\n      descripcion: \"Cheddar, Bacon + papas\",\n      precio: 10100\n    },\n    \"tostado_completo\": {\n      nombre: \"Completo\",\n      descripcion: \"Cheddar, Huevo, Panceta, Palta + papas\",\n      precio: 11400\n    }\n  };\n  \n  // Obtener el tostado seleccionado\n  const tostado = tostados[tostadoId];\n  \n  if (!tostado) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, hubo un error al procesar tu pedido. Por favor, intenta nuevamente.\"\n      }\n    ];\n  }\n  \n  let mensajePersonalizacion = \"\";\n  if (personalizacion && personalizacion.length > 0) {\n    mensajePersonalizacion = `\\nPersonalización: ${personalizacion}`;\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🛒 Confirmar Pedido\",\n      \"description\": `Has seleccionado:\\n${tostado.nombre}\\n${tostado.descripcion}\\nPrecio: $${tostado.precio.toLocaleString('es-AR')}${mensajePersonalizacion}`,\n      \"buttonText\": \"Opciones\",\n      \"footerText\": \"Confirma o agrega más productos\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Confirmar\",\n          \"rows\": [\n            {\n              \"title\": \"Agregar al pedido\",\n              \"description\": \"Añadir este producto a tu pedido actual\",\n              \"rowId\": `agregar_${tostadoId}`\n            },\n            {\n              \"title\": \"Agregar otro producto\",\n              \"description\": \"Volver al menú para seguir pidiendo\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🔄 Modificar\",\n          \"rows\": [\n            {\n              \"title\": \"Cambiar selección\",\n              \"description\": \"Elegir otro tostado\",\n              \"rowId\": \"volver_tostados\"\n            },\n            {\n              \"title\": \"Modificar personalización\",\n              \"description\": \"Cambiar las personalizaciones\",\n              \"rowId\": `personalizar_${tostadoId}`\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuTostados,\n  seleccionarTostado,\n  mensajeIATostado,\n  confirmarTostado\n};\n\n// Por defecto, devolver el menú de tostados\nreturn generarMenuTostados($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        700
      ],
      "id": "91a876b6-5c17-45d2-aa70-22e952fd9150",
      "name": "Lista Tostados"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de Bebidas sin alcohol\nfunction generarMenuBebidasSinAlcohol(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥤 Bebidas sin alcohol\",\n      \"description\": \"Nuestras refrescantes bebidas sin alcohol\",\n      \"buttonText\": \"Ver Bebidas\",\n      \"footerText\": \"Bebidas para acompañar tu comida\",\n      \"sections\": [\n        {\n          \"title\": \"🥤 Gaseosas\",\n          \"rows\": [\n            {\n              \"title\": \"Coca Cola\",\n              \"description\": \"$4.000\",\n              \"rowId\": \"bebida_coca_cola\"\n            },\n            {\n              \"title\": \"Sprite\",\n              \"description\": \"$4.000\",\n              \"rowId\": \"bebida_sprite\"\n            },\n            {\n              \"title\": \"Coca Cola Zero\",\n              \"description\": \"$4.000\",\n              \"rowId\": \"bebida_coca_zero\"\n            }\n          ]\n        },\n        {\n          \"title\": \"💧 Aguas\",\n          \"rows\": [\n            {\n              \"title\": \"Agua Villavicencio\",\n              \"description\": \"$3.700\",\n              \"rowId\": \"bebida_agua\"\n            },\n            {\n              \"title\": \"Agua con gas\",\n              \"description\": \"$3.700\",\n              \"rowId\": \"bebida_agua_gas\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🍊 Aguas Saborizadas\",\n          \"rows\": [\n            {\n              \"title\": \"Agua saborizada\",\n              \"description\": \"Pomelo, Manzana, Pera, Uva\\n$3.700\",\n              \"rowId\": \"bebida_agua_saborizada\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejar la selección de una bebida\nfunction seleccionarBebida(numeroCliente, bebidaId) {\n  // Base de datos de bebidas\n  const bebidas = {\n    \"bebida_coca_cola\": {\n      nombre: \"Coca Cola\",\n      descripcion: \"Gaseosa Coca Cola\",\n      precio: 4000\n    },\n    \"bebida_sprite\": {\n      nombre: \"Sprite\",\n      descripcion: \"Gaseosa Sprite\",\n      precio: 4000\n    },\n    \"bebida_coca_zero\": {\n      nombre: \"Coca Cola Zero\",\n      descripcion: \"Gaseosa Coca Cola Zero\",\n      precio: 4000\n    },\n    \"bebida_agua\": {\n      nombre: \"Agua Villavicencio\",\n      descripcion: \"Agua mineral sin gas\",\n      precio: 3700\n    },\n    \"bebida_agua_gas\": {\n      nombre: \"Agua con gas\",\n      descripcion: \"Agua mineral con gas\",\n      precio: 3700\n    },\n    \"bebida_agua_saborizada\": {\n      nombre: \"Agua saborizada\",\n      descripcion: \"Sabores: Pomelo, Manzana, Pera, Uva\",\n      precio: 3700\n    }\n  };\n  \n  // Obtener la bebida seleccionada\n  const bebida = bebidas[bebidaId];\n  \n  if (!bebida) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la bebida seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Si es agua saborizada, mostrar opciones de sabores\n  if (bebidaId === \"bebida_agua_saborizada\") {\n    return mostrarSaboresAgua(numeroCliente);\n  }\n\n  // Para las demás bebidas, ir directo a confirmación\n  return confirmarBebida(numeroCliente, bebidaId);\n}\n\n// Función para mostrar sabores de agua saborizada\nfunction mostrarSaboresAgua(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍊 Agua Saborizada\",\n      \"description\": \"Selecciona el sabor que prefieres\",\n      \"buttonText\": \"Elegir Sabor\",\n      \"footerText\": \"Aguas saborizadas $3.700\",\n      \"sections\": [\n        {\n          \"title\": \"🍊 Sabores Disponibles\",\n          \"rows\": [\n            {\n              \"title\": \"Pomelo\",\n              \"description\": \"Agua saborizada sabor pomelo\",\n              \"rowId\": \"sabor_pomelo\"\n            },\n            {\n              \"title\": \"Manzana\",\n              \"description\": \"Agua saborizada sabor manzana\",\n              \"rowId\": \"sabor_manzana\"\n            },\n            {\n              \"title\": \"Pera\",\n              \"description\": \"Agua saborizada sabor pera\",\n              \"rowId\": \"sabor_pera\"\n            },\n            {\n              \"title\": \"Uva\",\n              \"description\": \"Agua saborizada sabor uva\",\n              \"rowId\": \"sabor_uva\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Volver\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Bebidas\",\n              \"description\": \"Elegir otra bebida\",\n              \"rowId\": \"volver_bebidas\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para confirmar selección de bebida\nfunction confirmarBebida(numeroCliente, bebidaId) {\n  // Base de datos de bebidas\n  const bebidas = {\n    \"bebida_coca_cola\": {\n      nombre: \"Coca Cola\",\n      descripcion: \"Gaseosa Coca Cola\",\n      precio: 4000\n    },\n    \"bebida_sprite\": {\n      nombre: \"Sprite\",\n      descripcion: \"Gaseosa Sprite\",\n      precio: 4000\n    },\n    \"bebida_coca_zero\": {\n      nombre: \"Coca Cola Zero\",\n      descripcion: \"Gaseosa Coca Cola Zero\",\n      precio: 4000\n    },\n    \"bebida_agua\": {\n      nombre: \"Agua Villavicencio\",\n      descripcion: \"Agua mineral sin gas\",\n      precio: 3700\n    },\n    \"bebida_agua_gas\": {\n      nombre: \"Agua con gas\",\n      descripcion: \"Agua mineral con gas\",\n      precio: 3700\n    },\n    \"sabor_pomelo\": {\n      nombre: \"Agua Saborizada Pomelo\",\n      descripcion: \"Agua saborizada sabor pomelo\",\n      precio: 3700\n    },\n    \"sabor_manzana\": {\n      nombre: \"Agua Saborizada Manzana\",\n      descripcion: \"Agua saborizada sabor manzana\",\n      precio: 3700\n    },\n    \"sabor_pera\": {\n      nombre: \"Agua Saborizada Pera\",\n      descripcion: \"Agua saborizada sabor pera\",\n      precio: 3700\n    },\n    \"sabor_uva\": {\n      nombre: \"Agua Saborizada Uva\",\n      descripcion: \"Agua saborizada sabor uva\",\n      precio: 3700\n    }\n  };\n  \n  // Obtener la bebida seleccionada\n  const bebida = bebidas[bebidaId];\n  \n  if (!bebida) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la bebida seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥤 Confirmar Bebida\",\n      \"description\": `Has seleccionado:\\n${bebida.nombre}\\nPrecio: $${bebida.precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Opciones\",\n      \"footerText\": \"Confirma o elige otra bebida\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Confirmar\",\n          \"rows\": [\n            {\n              \"title\": \"Agregar al pedido\",\n              \"description\": \"Añadir esta bebida a tu pedido actual\",\n              \"rowId\": `agregar_${bebidaId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"🔄 Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Elegir otra bebida\",\n              \"description\": \"Volver al menú de bebidas\",\n              \"rowId\": \"volver_bebidas\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para preguntar cantidad de bebidas\nfunction preguntarCantidadBebida(numeroCliente, bebidaId) {\n  // Base de datos de bebidas\n  const bebidas = {\n    \"bebida_coca_cola\": {\n      nombre: \"Coca Cola\",\n      precio: 4000\n    },\n    \"bebida_sprite\": {\n      nombre: \"Sprite\",\n      precio: 4000\n    },\n    \"bebida_coca_zero\": {\n      nombre: \"Coca Cola Zero\",\n      precio: 4000\n    },\n    \"bebida_agua\": {\n      nombre: \"Agua Villavicencio\",\n      precio: 3700\n    },\n    \"bebida_agua_gas\": {\n      nombre: \"Agua con gas\",\n      precio: 3700\n    },\n    \"sabor_pomelo\": {\n      nombre: \"Agua Saborizada Pomelo\",\n      precio: 3700\n    },\n    \"sabor_manzana\": {\n      nombre: \"Agua Saborizada Manzana\",\n      precio: 3700\n    },\n    \"sabor_pera\": {\n      nombre: \"Agua Saborizada Pera\",\n      precio: 3700\n    },\n    \"sabor_uva\": {\n      nombre: \"Agua Saborizada Uva\",\n      precio: 3700\n    }\n  };\n  \n  // Obtener la bebida seleccionada\n  const bebida = bebidas[bebidaId];\n  \n  if (!bebida) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la bebida seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🥤 ${bebida.nombre}`,\n      \"description\": `Selecciona la cantidad que deseas pedir\\nPrecio por unidad: $${bebida.precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Seleccionar\",\n      \"footerText\": \"Elige la cantidad de bebidas\",\n      \"sections\": [\n        {\n          \"title\": \"🔢 Cantidad\",\n          \"rows\": [\n            {\n              \"title\": \"1 unidad\",\n              \"description\": `Total: $${bebida.precio.toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_1_${bebidaId}`\n            },\n            {\n              \"title\": \"2 unidades\",\n              \"description\": `Total: $${(bebida.precio * 2).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_2_${bebidaId}`\n            },\n            {\n              \"title\": \"3 unidades\",\n              \"description\": `Total: $${(bebida.precio * 3).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_3_${bebidaId}`\n            },\n            {\n              \"title\": \"4 unidades\",\n              \"description\": `Total: $${(bebida.precio * 4).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_4_${bebidaId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Volver\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Bebidas\",\n              \"description\": \"Elegir otra bebida\",\n              \"rowId\": \"volver_bebidas\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuBebidasSinAlcohol,\n  seleccionarBebida,\n  mostrarSaboresAgua,\n  confirmarBebida,\n  preguntarCantidadBebida\n};\n\n// Por defecto, devolver el menú de bebidas sin alcohol\nreturn generarMenuBebidasSinAlcohol($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        900
      ],
      "id": "2d4ba6e7-c78c-4c04-aa85-b9ba1fa21855",
      "name": "Lista bebidas sin gas"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de Cerveza Artesanal MINGA\nfunction generarMenuCervezas(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍺 Cerveza Artesanal MINGA\",\n      \"description\": \"Consultar disponibilidad en canillas\",\n      \"buttonText\": \"Ver Cervezas\",\n      \"footerText\": \"Cervezas artesanales de producción local\",\n      \"sections\": [\n        {\n          \"title\": \"🍺 IPAs & APAs\",\n          \"rows\": [\n            {\n              \"title\": \"JUICY LITE IPA\",\n              \"description\": \"SRM 4 / ABV 5.2\\nPinta: $6.700 | Media Pinta: $4.700\",\n              \"rowId\": \"cerveza_juicy_lite\"\n            },\n            {\n              \"title\": \"#NONSTOP-AMERICAN IPA\",\n              \"description\": \"El balance de esta cerveza está pensado para lograr que se destaquen los sabores y aromas a frutas cítricas y tropicales.\\nPinta: $6.700 | Media Pinta: $4.700\",\n              \"rowId\": \"cerveza_nonstop\"\n            },\n            {\n              \"title\": \"2 BONDIS APA\",\n              \"description\": \"Cerveza lupulada de amargor medio, final seco y el justo balance de maltas. Aromas frutales, cítricos y resinosos.\\nSRM 6 / IBU 40 / ABV 5.7\\nPinta: $6.700 | Media Pinta: $4.700\",\n              \"rowId\": \"cerveza_2bondis\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🍻 Lagers\",\n          \"rows\": [\n            {\n              \"title\": \"LA SHERMAN- GERMAN PILS\",\n              \"description\": \"Lager, rubia dorada, liviana de cuerpo, con un elegante aroma a lúpulos florales. Limpia y refrescante.\\nPinta: $6.000 | Media Pinta: $4.000\",\n              \"rowId\": \"cerveza_sherman\"\n            },\n            {\n              \"title\": \"CIRCULO ROJO- AMBER LAGER\",\n              \"description\": \"Cerveza de color cobrizo oscuro, ligera, bajo amargor y de alta tomabilidad.\\nPinta: $6.000 | Media Pinta: $4.000\",\n              \"rowId\": \"cerveza_circulo\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🖤 Stouts & Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"TORNADO- AMERICAN STOUT\",\n              \"description\": \"Cerveza negra, fuerte, con los sabores a maltas oscuras típicas de las Stout británicas.\\nPinta: $6.700 | Media Pinta: $4.700\",\n              \"rowId\": \"cerveza_tornado\"\n            },\n            {\n              \"title\": \"BARLEY WINE\",\n              \"description\": \"Un clásico estilo inglés, fuerte y con mucho cuerpo, bien maltoso y con alcohol cálido. Aromas y sabores intensos y complejos.\\nSRM 8 / IBU 40 / ABV 10\\nPinta: $6.700 | Media Pinta: $4.700\",\n              \"rowId\": \"cerveza_barley\"\n            },\n            {\n              \"title\": \"HONEY\",\n              \"description\": \"Pinta: $6.700 | Media Pinta: $4.700\",\n              \"rowId\": \"cerveza_honey\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejar la selección de una cerveza\nfunction seleccionarCerveza(numeroCliente, cervezaId) {\n  // Base de datos de cervezas\n  const cervezas = {\n    \"cerveza_juicy_lite\": {\n      nombre: \"JUICY LITE IPA\",\n      descripcion: \"SRM 4 / ABV 5.2\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_nonstop\": {\n      nombre: \"#NONSTOP-AMERICAN IPA\",\n      descripcion: \"El balance de esta cerveza está pensado para lograr que se destaquen los sabores y aromas a frutas cítricas y tropicales.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_2bondis\": {\n      nombre: \"2 BONDIS APA\",\n      descripcion: \"Cerveza lupulada de amargor medio, final seco y el justo balance de maltas. Sus distinguidos aromas frutales, cítricos y resinosos, provenientes de los lúpulos americanos, se conjugan con el delicado sabor al grano de malta generando fascinación y convirtiéndola a esta cerveza en un clásico. SRM 6 / IBU 40 / ABV 5.7\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_sherman\": {\n      nombre: \"LA SHERMAN- GERMAN PILS\",\n      descripcion: \"Lager, rubia dorada, liviana de cuerpo, con un elegante aroma a lúpulos florales. Limpia y refrescante, la German Pils resalta la más fina calidad de las maltas y lúpulos alemanes.\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_circulo\": {\n      nombre: \"CIRCULO ROJO- AMBER LAGER\",\n      descripcion: \"Cerveza de color cobrizo oscuro, ligera, bajo amargor y de alta tomabilidad.\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_tornado\": {\n      nombre: \"TORNADO- AMERICAN STOUT\",\n      descripcion: \"Cerveza negra, fuerte, con los sabores a maltas oscuras típicas de las Stout británicas.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_barley\": {\n      nombre: \"BARLEY WINE\",\n      descripcion: \"Un clásico estilo inglés, fuerte y con mucho cuerpo, bien maltoso y con alcohol cálido. Los aromas y sabores intensos y complejos de nueces y caramelos oscuros provienen de la malta. El perfil de lúpulo es sutil, con una nota floral, que aporta equilibrio a este estilo especial. SRM 8 / IBU 40 / ABV 10\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_honey\": {\n      nombre: \"HONEY\",\n      descripcion: \"Cerveza de miel\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    }\n  };\n  \n  // Obtener la cerveza seleccionada\n  const cerveza = cervezas[cervezaId];\n  \n  if (!cerveza) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la cerveza seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Mostrar opciones de tamaño (pinta o media pinta)\n  return seleccionarTamanoCerveza(numeroCliente, cervezaId);\n}\n\n// Función para seleccionar tamaño de cerveza\nfunction seleccionarTamanoCerveza(numeroCliente, cervezaId) {\n  // Base de datos de cervezas\n  const cervezas = {\n    \"cerveza_juicy_lite\": {\n      nombre: \"JUICY LITE IPA\",\n      descripcion: \"SRM 4 / ABV 5.2\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_nonstop\": {\n      nombre: \"#NONSTOP-AMERICAN IPA\",\n      descripcion: \"El balance de esta cerveza está pensado para lograr que se destaquen los sabores y aromas a frutas cítricas y tropicales.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_2bondis\": {\n      nombre: \"2 BONDIS APA\",\n      descripcion: \"Cerveza lupulada de amargor medio, final seco y el justo balance de maltas. Sus distinguidos aromas frutales, cítricos y resinosos, provenientes de los lúpulos americanos, se conjugan con el delicado sabor al grano de malta generando fascinación y convirtiéndola a esta cerveza en un clásico. SRM 6 / IBU 40 / ABV 5.7\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_sherman\": {\n      nombre: \"LA SHERMAN- GERMAN PILS\",\n      descripcion: \"Lager, rubia dorada, liviana de cuerpo, con un elegante aroma a lúpulos florales. Limpia y refrescante, la German Pils resalta la más fina calidad de las maltas y lúpulos alemanes.\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_circulo\": {\n      nombre: \"CIRCULO ROJO- AMBER LAGER\",\n      descripcion: \"Cerveza de color cobrizo oscuro, ligera, bajo amargor y de alta tomabilidad.\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_tornado\": {\n      nombre: \"TORNADO- AMERICAN STOUT\",\n      descripcion: \"Cerveza negra, fuerte, con los sabores a maltas oscuras típicas de las Stout británicas.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_barley\": {\n      nombre: \"BARLEY WINE\",\n      descripcion: \"Un clásico estilo inglés, fuerte y con mucho cuerpo, bien maltoso y con alcohol cálido. Los aromas y sabores intensos y complejos de nueces y caramelos oscuros provienen de la malta. El perfil de lúpulo es sutil, con una nota floral, que aporta equilibrio a este estilo especial. SRM 8 / IBU 40 / ABV 10\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_honey\": {\n      nombre: \"HONEY\",\n      descripcion: \"Cerveza de miel\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    }\n  };\n  \n  // Obtener la cerveza seleccionada\n  const cerveza = cervezas[cervezaId];\n  \n  if (!cerveza) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la cerveza seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍺 ${cerveza.nombre}`,\n      \"description\": `${cerveza.descripcion}\\n\\nSelecciona el tamaño:`,\n      \"buttonText\": \"Seleccionar\",\n      \"footerText\": \"Elige entre pinta completa o media pinta\",\n      \"sections\": [\n        {\n          \"title\": \"🍺 Tamaño\",\n          \"rows\": [\n            {\n              \"title\": \"Pinta\",\n              \"description\": `Vaso grande (500ml)\\nPrecio: $${cerveza.precioPinta.toLocaleString('es-AR')}`,\n              \"rowId\": `pinta_${cervezaId}`\n            },\n            {\n              \"title\": \"Media Pinta\",\n              \"description\": `Vaso mediano (300ml)\\nPrecio: $${cerveza.precioMediaPinta.toLocaleString('es-AR')}`,\n              \"rowId\": `media_${cervezaId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Cervezas\",\n              \"description\": \"Elegir otra cerveza\",\n              \"rowId\": \"volver_cervezas\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para confirmar selección de cerveza\nfunction confirmarCerveza(numeroCliente, tamanoId) {\n  // Extraer la información del ID (formato: pinta_cerveza_nombre o media_cerveza_nombre)\n  const [tamano, ...cervezaIdParts] = tamanoId.split('_');\n  const cervezaId = cervezaIdParts.join('_');\n  \n  // Base de datos de cervezas\n  const cervezas = {\n    \"cerveza_juicy_lite\": {\n      nombre: \"JUICY LITE IPA\",\n      descripcion: \"SRM 4 / ABV 5.2\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_nonstop\": {\n      nombre: \"#NONSTOP-AMERICAN IPA\",\n      descripcion: \"El balance de esta cerveza está pensado para lograr que se destaquen los sabores y aromas a frutas cítricas y tropicales.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_2bondis\": {\n      nombre: \"2 BONDIS APA\",\n      descripcion: \"Cerveza lupulada de amargor medio, final seco y el justo balance de maltas.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_sherman\": {\n      nombre: \"LA SHERMAN- GERMAN PILS\",\n      descripcion: \"Lager, rubia dorada, liviana de cuerpo, con un elegante aroma a lúpulos florales.\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_circulo\": {\n      nombre: \"CIRCULO ROJO- AMBER LAGER\",\n      descripcion: \"Cerveza de color cobrizo oscuro, ligera, bajo amargor y de alta tomabilidad.\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_tornado\": {\n      nombre: \"TORNADO- AMERICAN STOUT\",\n      descripcion: \"Cerveza negra, fuerte, con los sabores a maltas oscuras típicas de las Stout británicas.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_barley\": {\n      nombre: \"BARLEY WINE\",\n      descripcion: \"Un clásico estilo inglés, fuerte y con mucho cuerpo, bien maltoso y con alcohol cálido.\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_honey\": {\n      nombre: \"HONEY\",\n      descripcion: \"Cerveza de miel\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    }\n  };\n  \n  // Obtener la cerveza seleccionada\n  const cerveza = cervezas[cervezaId];\n  \n  if (!cerveza) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la cerveza seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  const precio = tamano === 'pinta' ? cerveza.precioPinta : cerveza.precioMediaPinta;\n  const tamahoTexto = tamano === 'pinta' ? 'Pinta' : 'Media Pinta';\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍺 Confirmar Cerveza\",\n      \"description\": `Has seleccionado:\\n${cerveza.nombre}\\nTamaño: ${tamahoTexto}\\nPrecio: $${precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Opciones\",\n      \"footerText\": \"Confirma o elige otra cerveza\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Confirmar\",\n          \"rows\": [\n            {\n              \"title\": \"Agregar al pedido\",\n              \"description\": \"Añadir esta cerveza a tu pedido actual\",\n              \"rowId\": `agregar_${tamanoId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"🔢 Cantidad\",\n          \"rows\": [\n            {\n              \"title\": \"Elegir cantidad\",\n              \"description\": \"Seleccionar más de una unidad\",\n              \"rowId\": `cantidad_${tamanoId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"🔄 Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Elegir otra cerveza\",\n              \"description\": \"Volver al menú de cervezas\",\n              \"rowId\": \"volver_cervezas\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para preguntar cantidad de cervezas\nfunction preguntarCantidadCerveza(numeroCliente, tamanoId) {\n  // Extraer la información del ID (formato: pinta_cerveza_nombre o media_cerveza_nombre)\n  const [tamano, ...cervezaIdParts] = tamanoId.split('_');\n  const cervezaId = cervezaIdParts.join('_');\n  \n  // Base de datos de cervezas\n  const cervezas = {\n    \"cerveza_juicy_lite\": {\n      nombre: \"JUICY LITE IPA\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_nonstop\": {\n      nombre: \"#NONSTOP-AMERICAN IPA\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_2bondis\": {\n      nombre: \"2 BONDIS APA\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_sherman\": {\n      nombre: \"LA SHERMAN- GERMAN PILS\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_circulo\": {\n      nombre: \"CIRCULO ROJO- AMBER LAGER\",\n      precioPinta: 6000,\n      precioMediaPinta: 4000\n    },\n    \"cerveza_tornado\": {\n      nombre: \"TORNADO- AMERICAN STOUT\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_barley\": {\n      nombre: \"BARLEY WINE\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    },\n    \"cerveza_honey\": {\n      nombre: \"HONEY\",\n      precioPinta: 6700,\n      precioMediaPinta: 4700\n    }\n  };\n  \n  // Obtener la cerveza seleccionada\n  const cerveza = cervezas[cervezaId];\n  \n  if (!cerveza) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró la cerveza seleccionada. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  const precio = tamano === 'pinta' ? cerveza.precioPinta : cerveza.precioMediaPinta;\n  const tamahoTexto = tamano === 'pinta' ? 'Pinta' : 'Media Pinta';\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍺 ${cerveza.nombre} - ${tamahoTexto}`,\n      \"description\": `Selecciona la cantidad que deseas pedir\\nPrecio por unidad: $${precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Seleccionar\",\n      \"footerText\": \"Elige la cantidad de cervezas\",\n      \"sections\": [\n        {\n          \"title\": \"🔢 Cantidad\",\n          \"rows\": [\n            {\n              \"title\": \"1 unidad\",\n              \"description\": `Total: $${precio.toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_1_${tamanoId}`\n            },\n            {\n              \"title\": \"2 unidades\",\n              \"description\": `Total: $${(precio * 2).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_2_${tamanoId}`\n            },\n            {\n              \"title\": \"3 unidades\",\n              \"description\": `Total: $${(precio * 3).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_3_${tamanoId}`\n            },\n            {\n              \"title\": \"4 unidades\",\n              \"description\": `Total: $${(precio * 4).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_4_${tamanoId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Volver\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Cervezas\",\n              \"description\": \"Elegir otra cerveza\",\n              \"rowId\": \"volver_cervezas\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuCervezas,\n  seleccionarCerveza,\n  seleccionarTamanoCerveza,\n  confirmarCerveza,\n  preguntarCantidadCerveza\n};\n\n// Por defecto, devolver el menú de cervezas artesanales\nreturn generarMenuCervezas($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        1100
      ],
      "id": "8f91badf-4c24-44fa-a4ba-a67c9da62ad5",
      "name": "Lista Cervezas"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú de Tragos\nfunction generarMenuTragos(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍹 Tragos\",\n      \"description\": \"Nuestros deliciosos cócteles y bebidas con alcohol\",\n      \"buttonText\": \"Ver Tragos\",\n      \"footerText\": \"Bebidas con alcohol para mayores de 18 años\",\n      \"sections\": [\n        {\n          \"title\": \"🍹 Tragos Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Madre selva\",\n              \"description\": \"Ron dorado, triple sec y blend secreto de jugos cítricos.\\n$9.200\",\n              \"rowId\": \"trago_madre_selva\"\n            },\n            {\n              \"title\": \"Malibu Passion\",\n              \"description\": \"Malibu, Maracuya, Lima, almíbar.\\n$8.700\",\n              \"rowId\": \"trago_malibu_passion\"\n            },\n            {\n              \"title\": \"Daikiri de frutilla\",\n              \"description\": \"Ron, Jugo de Limón, azúcar, frutilla.\\n$8.200\",\n              \"rowId\": \"trago_daikiri_frutilla\"\n            },\n            {\n              \"title\": \"Baileys Frozen\",\n              \"description\": \"licor de dulce de leche, Baileys, crema americana, chocolate, licor de café\\n$9.600\",\n              \"rowId\": \"trago_baileys_frozen\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para manejar la selección de un trago\nfunction seleccionarTrago(numeroCliente, tragoId) {\n  // Base de datos de tragos\n  const tragos = {\n    \"trago_madre_selva\": {\n      nombre: \"Madre selva\",\n      descripcion: \"Ron dorado, triple sec y blend secreto de jugos cítricos.\",\n      precio: 9200,\n      ingredientes: [\"ron dorado\", \"triple sec\", \"blend secreto de jugos cítricos\"]\n    },\n    \"trago_malibu_passion\": {\n      nombre: \"Malibu Passion\",\n      descripcion: \"Malibu, Maracuya, Lima, almíbar.\",\n      precio: 8700,\n      ingredientes: [\"malibu\", \"maracuyá\", \"lima\", \"almíbar\"]\n    },\n    \"trago_daikiri_frutilla\": {\n      nombre: \"Daikiri de frutilla\",\n      descripcion: \"Ron, Jugo de Limón, azúcar, frutilla.\",\n      precio: 8200,\n      ingredientes: [\"ron\", \"jugo de limón\", \"azúcar\", \"frutilla\"]\n    },\n    \"trago_baileys_frozen\": {\n      nombre: \"Baileys Frozen\",\n      descripcion: \"licor de dulce de leche, Baileys, crema americana, chocolate, licor de café\",\n      precio: 9600,\n      ingredientes: [\"licor de dulce de leche\", \"baileys\", \"crema americana\", \"chocolate\", \"licor de café\"]\n    }\n  };\n  \n  // Obtener el trago seleccionado\n  const trago = tragos[tragoId];\n  \n  if (!trago) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el trago seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n\n  // Ir directo a confirmación/personalización\n  return confirmarTrago(numeroCliente, tragoId);\n}\n\n// Función para confirmar selección de trago\nfunction confirmarTrago(numeroCliente, tragoId) {\n  // Base de datos de tragos\n  const tragos = {\n    \"trago_madre_selva\": {\n      nombre: \"Madre selva\",\n      descripcion: \"Ron dorado, triple sec y blend secreto de jugos cítricos.\",\n      precio: 9200\n    },\n    \"trago_malibu_passion\": {\n      nombre: \"Malibu Passion\",\n      descripcion: \"Malibu, Maracuya, Lima, almíbar.\",\n      precio: 8700\n    },\n    \"trago_daikiri_frutilla\": {\n      nombre: \"Daikiri de frutilla\",\n      descripcion: \"Ron, Jugo de Limón, azúcar, frutilla.\",\n      precio: 8200\n    },\n    \"trago_baileys_frozen\": {\n      nombre: \"Baileys Frozen\",\n      descripcion: \"licor de dulce de leche, Baileys, crema americana, chocolate, licor de café\",\n      precio: 9600\n    }\n  };\n  \n  // Obtener el trago seleccionado\n  const trago = tragos[tragoId];\n  \n  if (!trago) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el trago seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍹 ${trago.nombre}`,\n      \"description\": `Has seleccionado: ${trago.nombre}\\n${trago.descripcion}\\nPrecio: $${trago.precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Opciones\",\n      \"footerText\": \"Confirma o elige otro trago\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Confirmar\",\n          \"rows\": [\n            {\n              \"title\": \"Agregar al pedido\",\n              \"description\": \"Añadir este trago a tu pedido actual\",\n              \"rowId\": `agregar_${tragoId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"🔢 Cantidad\",\n          \"rows\": [\n            {\n              \"title\": \"Elegir cantidad\",\n              \"description\": \"Seleccionar más de una unidad\",\n              \"rowId\": `cantidad_${tragoId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"🔄 Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Elegir otro trago\",\n              \"description\": \"Volver al menú de tragos\",\n              \"rowId\": \"volver_tragos\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para preguntar cantidad de tragos\nfunction preguntarCantidadTrago(numeroCliente, tragoId) {\n  // Base de datos de tragos\n  const tragos = {\n    \"trago_madre_selva\": {\n      nombre: \"Madre selva\",\n      precio: 9200\n    },\n    \"trago_malibu_passion\": {\n      nombre: \"Malibu Passion\",\n      precio: 8700\n    },\n    \"trago_daikiri_frutilla\": {\n      nombre: \"Daikiri de frutilla\",\n      precio: 8200\n    },\n    \"trago_baileys_frozen\": {\n      nombre: \"Baileys Frozen\",\n      precio: 9600\n    }\n  };\n  \n  // Obtener el trago seleccionado\n  const trago = tragos[tragoId];\n  \n  if (!trago) {\n    return [\n      {\n        \"number\": numeroCliente,\n        \"type\": \"text\",\n        \"text\": \"Lo siento, no se encontró el trago seleccionado. Por favor, selecciona otra opción.\"\n      }\n    ];\n  }\n  \n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍹 ${trago.nombre}`,\n      \"description\": `Selecciona la cantidad que deseas pedir\\nPrecio por unidad: $${trago.precio.toLocaleString('es-AR')}`,\n      \"buttonText\": \"Seleccionar\",\n      \"footerText\": \"Elige la cantidad de tragos\",\n      \"sections\": [\n        {\n          \"title\": \"🔢 Cantidad\",\n          \"rows\": [\n            {\n              \"title\": \"1 unidad\",\n              \"description\": `Total: $${trago.precio.toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_1_${tragoId}`\n            },\n            {\n              \"title\": \"2 unidades\",\n              \"description\": `Total: $${(trago.precio * 2).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_2_${tragoId}`\n            },\n            {\n              \"title\": \"3 unidades\",\n              \"description\": `Total: $${(trago.precio * 3).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_3_${tragoId}`\n            },\n            {\n              \"title\": \"4 unidades\",\n              \"description\": `Total: $${(trago.precio * 4).toLocaleString('es-AR')}`,\n              \"rowId\": `cantidad_4_${tragoId}`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Volver\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Tragos\",\n              \"description\": \"Elegir otro trago\",\n              \"rowId\": \"volver_tragos\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones\nmodule.exports = {\n  generarMenuTragos,\n  seleccionarTrago,\n  confirmarTrago,\n  preguntarCantidadTrago\n};\n\n// Por defecto, devolver el menú de tragos\nreturn generarMenuTragos($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1740,
        1300
      ],
      "id": "56bf8d7c-d0f6-4d1c-b3a9-aeb4604c16a7",
      "name": "Lista Tragos"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        1100
      ],
      "id": "1599d35e-8348-46d8-ae2e-4a45f1948544",
      "name": "cancelar1",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        900
      ],
      "id": "58dc9df7-4436-4a60-a4b0-272ea23a72f4",
      "name": "cancelar2",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        700
      ],
      "id": "9bdf057b-e279-458d-9ea3-bedaa30a5f90",
      "name": "cancelar3",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        500
      ],
      "id": "93b129df-f4cf-4436-9afa-d373ba80d836",
      "name": "cancelar4",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        300
      ],
      "id": "7d5a6ef8-f91b-471b-9246-ea18213a9fe6",
      "name": "cancelar5",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        100
      ],
      "id": "e080b3c3-e5c6-4fc8-b9ae-cefb2c3e8fc8",
      "name": "cancelar6",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1520,
        -100
      ],
      "id": "5aeb2b9d-bfa8-43f1-ae10-7506c18c4b5c",
      "name": "cancelar7",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $('Calendario').first().json.url }}/message/sendList/{{ $('Calendario').first().json.instancia }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "apikey",
              "value": "={{ $('Calendario').first().json.apikey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "form-urlencoded",
        "bodyParameters": {
          "parameters": [
            {
              "name": "number",
              "value": "={{ $json.number }}"
            },
            {
              "name": "title",
              "value": "={{ $json.title }}"
            },
            {
              "name": "description",
              "value": "={{ $json.description }}"
            },
            {
              "name": "buttonText",
              "value": "={{ $json.buttonText }}"
            },
            {
              "name": "footerText",
              "value": "={{ $json.footerText }}"
            },
            {
              "name": "sections",
              "value": "={{ $json.sections }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -1960,
        -360
      ],
      "id": "ccff9117-5e91-4d23-9a81-3e4911f09a3d",
      "name": "cancelar8",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "// Función para generar el menú principal (categorías)\nfunction generarMenuPrincipal(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍔 Menú Delivery\",\n      \"description\": \"¡Hola! Bienvenido a nuestro servicio de delivery\",\n      \"buttonText\": \"Ver Categorías\",\n      \"footerText\": \"Selecciona una categoría para continuar\",\n      \"sections\": [\n        {\n          \"title\": \"🍔 Nuestro Menú\",\n          \"rows\": [\n            {\n              \"title\": \"Burgers con papas\",\n              \"description\": \"Hamburguesas gourmet con papas fritas incluidas\",\n              \"rowId\": \"cat_burgers\"\n            },\n            {\n              \"title\": \"Veggies con papas\",\n              \"description\": \"Hamburguesas vegetarianas con papas fritas incluidas\",\n              \"rowId\": \"cat_veggies\"\n            },\n            {\n              \"title\": \"Fries\",\n              \"description\": \"Papas fritas y toppings especiales\",\n              \"rowId\": \"cat_fries\"\n            },\n            {\n              \"title\": \"Ensaladas\",\n              \"description\": \"Opciones frescas y saludables\",\n              \"rowId\": \"cat_ensaladas\"\n            },\n            {\n              \"title\": \"Menu Kids\",\n              \"description\": \"Opciones especiales para los más pequeños\",\n              \"rowId\": \"cat_kids\"\n            },\n            {\n              \"title\": \"Tostados con papas\",\n              \"description\": \"Tostados gourmet con papas fritas incluidas\",\n              \"rowId\": \"cat_tostados\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🥤 Bebidas\",\n          \"rows\": [\n            {\n              \"title\": \"Bebidas sin alcohol\",\n              \"description\": \"Refrescos, jugos y aguas\",\n              \"rowId\": \"cat_bebidas\"\n            },\n            {\n              \"title\": \"Cerveza Artesanal MINGA\",\n              \"description\": \"Variedad de cervezas artesanales\",\n              \"rowId\": \"cat_cervezas\"\n            },\n            {\n              \"title\": \"Tragos\",\n              \"description\": \"Bebidas con alcohol y cócteles\",\n              \"rowId\": \"cat_tragos\"\n            }\n          ]\n        },\n        {\n          \"title\": \"✨ Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Invitados especiales\",\n              \"description\": \"Nuestras creaciones destacadas\",\n              \"rowId\": \"cat_invitados\"\n            },\n            {\n              \"title\": \"Combo Del día\",\n              \"description\": \"La mejor opción al mejor precio\",\n              \"rowId\": \"cat_combo\"\n            },\n            {\n              \"title\": \"Promos\",\n              \"description\": \"Ofertas y promociones especiales\",\n              \"rowId\": \"cat_promos\"\n            },\n            {\n              \"title\": \"Postres\",\n              \"description\": \"Dulces para completar tu experiencia\",\n              \"rowId\": \"cat_postres\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para generar el menú de hamburguesas cuando se selecciona \"Burgers con papas\"\nfunction generarMenuBurgers(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍔 Burgers con Papas\",\n      \"description\": \"Selecciona la hamburguesa que deseas ordenar\",\n      \"buttonText\": \"Ver Hamburguesas\",\n      \"footerText\": \"Todas nuestras hamburguesas incluyen papas fritas\",\n      \"sections\": [\n        {\n          \"title\": \"⭐ Hamburguesas Clásicas\",\n          \"rows\": [\n            {\n              \"title\": \"Cheese Burger\",\n              \"description\": \"Medallón 120gr (blend secreto), cheddar x4\\nSimple: $14.500 | Doble: $17.300\",\n              \"rowId\": \"burger_cheese\"\n            },\n            {\n              \"title\": \"American\",\n              \"description\": \"Medallón 120gr, cheddar x4, ketchup, mostaza, cebolla cubitos, pepinillos\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_american\"\n            },\n            {\n              \"title\": \"Classic\",\n              \"description\": \"Medallón 120gr, cheddar x4, salsa mil islas, cebollas, pepinillos, lechuga, tomate\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_classic\"\n            },\n            {\n              \"title\": \"Tasty\",\n              \"description\": \"Medallón 120gr, cheddar x4, lechuga, tomate, cebolla morada, aderezo tasty\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_tasty\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🥓 Hamburguesas con Bacon\",\n          \"rows\": [\n            {\n              \"title\": \"Cheese Bacon\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_cheese_bacon\"\n            },\n            {\n              \"title\": \"Sistons\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado, aioli de berenjena ahumada, pepinillos\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_sistons\"\n            },\n            {\n              \"title\": \"Candy\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado, cebolla caramelizada\\nSimple: $16.500 | Doble: $19.100 | Triple: $21.900\",\n              \"rowId\": \"burger_candy\"\n            },\n            {\n              \"title\": \"Cheese Bacon Egg\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado, huevo a la plancha\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_egg\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🧅 Hamburguesas con Cebolla\",\n          \"rows\": [\n            {\n              \"title\": \"Fried Onion\",\n              \"description\": \"Medallón 120gr, cheddar x4, cebolla smasheada en la plancha\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_fried_onion\"\n            },\n            {\n              \"title\": \"Fried Onion 2.0\",\n              \"description\": \"Medallón 120gr, cheddar x4, cebolla smasheada, ali oli, pepinillos (opcional)\\nSimple: $15.800 | Doble: $18.800 | Triple: $21.000\",\n              \"rowId\": \"burger_fried_onion2\"\n            },\n            {\n              \"title\": \"Crispy Onion\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado, ali oli, mil islas, cebolla crispy, pepinillos\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_crispy_onion\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🌟 Hamburguesas Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Blue Cheese\",\n              \"description\": \"Medallón 120gr, queso emmental x2, queso azul, bacon ahumado, cebolla morada\\nSimple: $16.500 | Doble: $19.000 | Triple: $21.900\",\n              \"rowId\": \"burger_blue_cheese\"\n            },\n            {\n              \"title\": \"Butter Sriracha\",\n              \"description\": \"Medallón 120gr, cheddar x4, manteca, sriracha\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_sriracha\"\n            },\n            {\n              \"title\": \"Gesell Burger\",\n              \"description\": \"Medallón 120gr, cheddar x4, cebolla brunoise salteada, mayonesa heinz\\nSimple: $15.300 | Doble: $18.100 | Triple: $21.000\",\n              \"rowId\": \"burger_gesell\"\n            },\n            {\n              \"title\": \"Pina Burger\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado, aros de cebolla, barbacoa, aioli ahumado\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_pina\"\n            }\n          ]\n        },\n        {\n          \"title\": \"🔝 Premium\",\n          \"rows\": [\n            {\n              \"title\": \"Juicy\",\n              \"description\": \"Medallón 120gr, cheddar x4, bacon ahumado (2 fetas), cebolla morada, salsa secreta, pepinillos\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_juicy\"\n            },\n            {\n              \"title\": \"Sistons Scott\",\n              \"description\": \"Medallón 120gr, cheddar x4, ketchup, mostaza, cebolla, pepinillos, lechuga, bacon\\nSimple: $16.700 | Doble: $19.800 | Triple: $22.900\",\n              \"rowId\": \"burger_sistons_scott\"\n            },\n            {\n              \"title\": \"Triple Queso\",\n              \"description\": \"3 medallones 120gr (blend secreto), x6 cheddar\\n$19.800\",\n              \"rowId\": \"burger_triple_queso\"\n            },\n            {\n              \"title\": \"Chicken Burger\",\n              \"description\": \"Pollo crispy, salsa caesar, lechuga, crispy, bacon, cheddar\\n$16.700\",\n              \"rowId\": \"burger_chicken\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para mostrar opciones de una hamburguesa específica (Simple/Doble/Triple)\nfunction generarOpcionesHamburguesa(numeroCliente, burgerId, nombreHamburguesa) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": `🍔 ${nombreHamburguesa}`,\n      \"description\": \"Selecciona el tamaño de tu hamburguesa\",\n      \"buttonText\": \"Seleccionar Tamaño\",\n      \"footerText\": \"Todas nuestras hamburguesas incluyen papas fritas\",\n      \"sections\": [\n        {\n          \"title\": \"🔄 Selecciona el Tamaño\",\n          \"rows\": [\n            {\n              \"title\": \"Simple\",\n              \"description\": \"1 medallón de carne de 120gr\",\n              \"rowId\": `${burgerId}_simple`\n            },\n            {\n              \"title\": \"Doble\",\n              \"description\": \"2 medallones de carne de 120gr\",\n              \"rowId\": `${burgerId}_doble`\n            },\n            {\n              \"title\": \"Triple\",\n              \"description\": \"3 medallones de carne de 120gr\",\n              \"rowId\": `${burgerId}_triple`\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver a Hamburguesas\",\n              \"description\": \"Ver otras opciones\",\n              \"rowId\": \"volver_burgers\"\n            },\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para generar la lista de bebidas sin alcohol\nfunction generarMenuBebidas(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🥤 Bebidas sin Alcohol\",\n      \"description\": \"Selecciona la bebida que deseas ordenar\",\n      \"buttonText\": \"Ver Bebidas\",\n      \"footerText\": \"Bebidas refrescantes para acompañar tu comida\",\n      \"sections\": [\n        {\n          \"title\": \"🥤 Gaseosas\",\n          \"rows\": [\n            {\n              \"title\": \"Coca-Cola 500ml\",\n              \"description\": \"Gaseosa sabor cola\\n$1.800\",\n              \"rowId\": \"bebida_coca_500\"\n            },\n            {\n              \"title\": \"Sprite 500ml\",\n              \"description\": \"Gaseosa sabor lima-limón\\n$1.800\",\n              \"rowId\": \"bebida_sprite_500\"\n            },\n            {\n              \"title\": \"Fanta 500ml\",\n              \"description\": \"Gaseosa sabor naranja\\n$1.800\",\n              \"rowId\": \"bebida_fanta_500\"\n            },\n            {\n              \"title\": \"Coca-Cola Zero 500ml\",\n              \"description\": \"Gaseosa sabor cola sin azúcar\\n$1.800\",\n              \"rowId\": \"bebida_coca_zero_500\"\n            }\n          ]\n        },\n        {\n          \"title\": \"💧 Agua y Jugos\",\n          \"rows\": [\n            {\n              \"title\": \"Agua Mineral 500ml\",\n              \"description\": \"Agua mineral sin gas\\n$1.500\",\n              \"rowId\": \"bebida_agua_500\"\n            },\n            {\n              \"title\": \"Agua con Gas 500ml\",\n              \"description\": \"Agua mineral con gas\\n$1.500\",\n              \"rowId\": \"bebida_agua_gas_500\"\n            },\n            {\n              \"title\": \"Jugo de Naranja Natural\",\n              \"description\": \"Exprimido al momento\\n$2.200\",\n              \"rowId\": \"bebida_jugo_naranja\"\n            },\n            {\n              \"title\": \"Limonada\",\n              \"description\": \"Con menta y jengibre\\n$2.200\",\n              \"rowId\": \"bebida_limonada\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para generar el menú de cervezas artesanales\nfunction generarMenuCervezas(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🍺 Cerveza Artesanal MINGA\",\n      \"description\": \"Selecciona la cerveza que deseas ordenar\",\n      \"buttonText\": \"Ver Cervezas\",\n      \"footerText\": \"Cervezas artesanales de producción local\",\n      \"sections\": [\n        {\n          \"title\": \"🍺 Cervezas MINGA\",\n          \"rows\": [\n            {\n              \"title\": \"IPA\",\n              \"description\": \"Indian Pale Ale, con notas cítricas y amargor pronunciado\\nPinta: $2.900\",\n              \"rowId\": \"cerveza_ipa\"\n            },\n            {\n              \"title\": \"Golden\",\n              \"description\": \"Rubia suave y refrescante, fácil de tomar\\nPinta: $2.700\",\n              \"rowId\": \"cerveza_golden\"\n            },\n            {\n              \"title\": \"Amber\",\n              \"description\": \"Roja con notas a caramelo y cuerpo medio\\nPinta: $2.700\",\n              \"rowId\": \"cerveza_amber\"\n            },\n            {\n              \"title\": \"Stout\",\n              \"description\": \"Negra con notas a café y chocolate\\nPinta: $2.900\",\n              \"rowId\": \"cerveza_stout\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para los combos del día\nfunction generarMenuCombos(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🔥 Combos del Día\",\n      \"description\": \"Nuestras mejores ofertas de hoy\",\n      \"buttonText\": \"Ver Combos\",\n      \"footerText\": \"Aprovecha nuestras promociones especiales\",\n      \"sections\": [\n        {\n          \"title\": \"🔥 Combos Especiales\",\n          \"rows\": [\n            {\n              \"title\": \"Combo Individual\",\n              \"description\": \"Hamburguesa Simple + Bebida\\nCon 20% de descuento sobre el precio individual\",\n              \"rowId\": \"combo_individual\"\n            },\n            {\n              \"title\": \"Combo Pareja\",\n              \"description\": \"2 Hamburguesas Dobles + 2 Bebidas\\nCon 25% de descuento sobre el precio individual\",\n              \"rowId\": \"combo_pareja\"\n            },\n            {\n              \"title\": \"Combo Familiar\",\n              \"description\": \"4 Hamburguesas + 4 Bebidas + 2 Postres\\nCon 30% de descuento sobre el precio individual\",\n              \"rowId\": \"combo_familiar\"\n            }\n          ]\n        },\n        {\n          \"title\": \"⬅️ Navegación\",\n          \"rows\": [\n            {\n              \"title\": \"Volver al Menú Principal\",\n              \"description\": \"Ver otras categorías\",\n              \"rowId\": \"volver_menu\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para solicitar dirección de entrega\nfunction solicitarDireccion(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"type\": \"text\",\n      \"text\": \"🏠 Por favor, indícanos la dirección de entrega para tu pedido. Incluye calle, número, piso/departamento (si aplica) y referencias que nos ayuden a encontrar tu domicilio.\"\n    }\n  ];\n}\n\n// Función para solicitar método de pago\nfunction solicitarMetodoPago(numeroCliente) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"💰 Método de Pago\",\n      \"description\": \"Selecciona cómo deseas pagar tu pedido\",\n      \"buttonText\": \"Seleccionar Pago\",\n      \"footerText\": \"Elige el método de pago más conveniente\",\n      \"sections\": [\n        {\n          \"title\": \"💳 Opciones de Pago\",\n          \"rows\": [\n            {\n              \"title\": \"Efectivo\",\n              \"description\": \"Pagaré en efectivo al momento de la entrega\",\n              \"rowId\": \"pago_efectivo\"\n            },\n            {\n              \"title\": \"Tarjeta (en delivery)\",\n              \"description\": \"Pagaré con tarjeta al momento de la entrega\",\n              \"rowId\": \"pago_tarjeta\"\n            },\n            {\n              \"title\": \"Transferencia\",\n              \"description\": \"Realizaré una transferencia bancaria\",\n              \"rowId\": \"pago_transferencia\"\n            },\n            {\n              \"title\": \"Mercado Pago\",\n              \"description\": \"Pagaré usando Mercado Pago\",\n              \"rowId\": \"pago_mercadopago\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Función para procesar mensajes de la IA (personalización de hamburguesa)\nfunction mensajeIA(numeroCliente, nombreHamburguesa, tamano) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"type\": \"text\",\n      \"text\": `¡Excelente elección! Has seleccionado una ${nombreHamburguesa} ${tamano}.\\n\\n¿Deseas personalizar tu hamburguesa? Puedes decirme si quieres quitar o agregar algún ingrediente.\\n\\nPor ejemplo:\\n- \"Sin cebolla\"\\n- \"Sin ketchup\"\\n- \"Extra queso\"\\n- \"Agregar bacon\"\\n\\nO simplemente dime \"Está bien así\" para continuar con tu pedido.`\n    }\n  ];\n}\n\n// Función para confirmar el pedido final\nfunction confirmarPedido(numeroCliente, detallePedido, precioTotal) {\n  return [\n    {\n      \"number\": numeroCliente,\n      \"title\": \"🛒 Confirmar Pedido\",\n      \"description\": `Tu pedido:\\n${detallePedido}\\n\\nTotal: $${precioTotal}`,\n      \"buttonText\": \"Confirmar\",\n      \"footerText\": \"Verifica que tu pedido esté correcto\",\n      \"sections\": [\n        {\n          \"title\": \"✅ Finalizar\",\n          \"rows\": [\n            {\n              \"title\": \"Confirmar Pedido\",\n              \"description\": \"Proceder con la compra\",\n              \"rowId\": \"confirmar_pedido\"\n            },\n            {\n              \"title\": \"Editar Pedido\",\n              \"description\": \"Realizar cambios\",\n              \"rowId\": \"editar_pedido\"\n            },\n            {\n              \"title\": \"Cancelar\",\n              \"description\": \"Cancelar todo el pedido\",\n              \"rowId\": \"cancelar_pedido\"\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n\n// Exportar las funciones para su uso\nmodule.exports = {\n  generarMenuPrincipal,\n  generarMenuBurgers,\n  generarOpcionesHamburguesa,\n  generarMenuBebidas,\n  generarMenuCervezas,\n  generarMenuCombos,\n  solicitarDireccion,\n  solicitarMetodoPago,\n  mensajeIA,\n  confirmarPedido\n};\n\n// Si se ejecuta directamente, retornar el menú principal por defecto\n// (Con un número de cliente de ejemplo, debe ser reemplazado por el número real)\nreturn generarMenuPrincipal($input.first().json.numero_cliente);"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2180,
        -360
      ],
      "id": "41285f90-ec91-46c7-8b9f-7b04c33cb538",
      "name": "Lista General"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_burgers",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "246d39c8-5bdc-44f7-8c17-3de623ded72b"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Burgers con Papas"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_veggies",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "0d8ed132-e03c-438b-bd1d-6b715bf1a0f1"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Veggies con Papas"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_fries",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "18b9e3cc-e34f-4d12-a6fb-6ecefa73f6c2"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Fries"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_ensaladas",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "3f60443f-53f0-4e33-93b3-1a497cf600bd"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Ensaladas"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_kids",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "c1a05c0f-6f85-4b9b-a8dd-5ecf16b69532"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Menú Kids"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_tostados",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "5e6d12d7-0121-46b2-a719-1a47d56b6d22"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Tostados con Papas"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_bebidas",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "7e1c8a5d-f2da-4dbe-9c1e-3b49b56db721"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Bebidas sin Alcohol"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_cervezas",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "a41e51dd-5cfd-46e0-bb33-9b5544d2d179"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Cervezas Artesanales"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_tragos",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "60af29cb-41a8-4b93-8652-1eafdf97b0d9"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Tragos"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_invitados",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "51ae3de9-47c6-4196-9d19-6a95170eb043"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Invitados Especiales"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_combo",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "9c61d83e-498d-4c63-bdd1-2779373b52dc"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Combos del Día"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_promos",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "e85c0e37-0b4f-474b-882e-ff2035cd28ad"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Promos"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.tittle }}",
                    "rightValue": "cat_postres",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "f60735a4-5e0f-4e9d-b542-8c3091a5ac2b"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Postres"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -2260,
        440
      ],
      "id": "de58a86f-3944-4194-9363-699806d74547",
      "name": "Switch2"
    }
  ],
  "pinData": {
    "Calendario": [
      {
        "json": {
          "numero_cliente": "5492254423359",
          "session_id": "FD948AEB08D8EEE7697A49360935DAE9",
          "url": "https://evo.innovasoftpro.dev",
          "instancia": "tester",
          "apikey": "89EBC4C29BD1-4035-982B-DDF76B7D0A5F",
          "tittle": "cat_burgers"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2025-05-15T01:36:11.776Z",
      "updatedAt": "2025-05-15T01:36:11.776Z",
      "id": "d3d6zb9nCLfGQXaG",
      "name": "delivery"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-05-22T19:16:44.207Z",
  "versionId": "bab1d70b-d3f0-4bd9-ae72-32dfef320c76"
}