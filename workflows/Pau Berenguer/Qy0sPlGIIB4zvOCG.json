{
  "active": false,
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Agente Principal",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "pensamiento": {
      "ai_tool": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "leer": {
      "ai_tool": [
        [
          {
            "node": "agente_dase_datos",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "crear": {
      "ai_tool": [
        [
          {
            "node": "agente_dase_datos",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "actualizar": {
      "ai_tool": [
        [
          {
            "node": "agente_dase_datos",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "crear evento": {
      "ai_tool": [
        [
          {
            "node": "agente_calendar",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "crear evento asistente": {
      "ai_tool": [
        [
          {
            "node": "agente_calendar",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "eliminar evento": {
      "ai_tool": [
        [
          {
            "node": "agente_calendar",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "actualizar evento": {
      "ai_tool": [
        [
          {
            "node": "agente_calendar",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "obtener eventos": {
      "ai_tool": [
        [
          {
            "node": "agente_calendar",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "marcar como no leido": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "enviar email": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "responder email": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "etiquetar email": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "obtener etiquetas": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "obtener email": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "crear borrador": {
      "ai_tool": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SerpAPI": {
      "ai_tool": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "agente_gmail": {
      "ai_tool": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "agente_calendar": {
      "ai_tool": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "agente_dase_datos": {
      "ai_tool": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter #2": {
      "ai_languageModel": [
        [
          {
            "node": "agente_gmail",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter #3": {
      "ai_languageModel": [
        [
          {
            "node": "agente_calendar",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter #4": {
      "ai_languageModel": [
        [
          {
            "node": "agente_dase_datos",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter #1": {
      "ai_languageModel": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Memoria": {
      "ai_memory": [
        [
          {
            "node": "Agente Principal",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-29T08:07:26.779Z",
  "id": "Qy0sPlGIIB4zvOCG",
  "isArchived": false,
  "meta": null,
  "name": "MULTIAGENTE",
  "nodes": [
    {
      "parameters": {
        "content": "",
        "height": 292,
        "width": 380,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1600,
        -624
      ],
      "typeVersion": 1,
      "id": "e672b97c-2e07-4776-a58f-50b14d309c49",
      "name": "Sticky Note17"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -2288,
        -528
      ],
      "id": "3c20305e-3044-49ff-bc65-bca41a427a8d",
      "name": "When chat message received",
      "webhookId": "c9def6ab-202c-4f3f-9365-e5613bfdaead"
    },
    {
      "parameters": {
        "content": "",
        "height": 280,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2352,
        -608
      ],
      "typeVersion": 1,
      "id": "ce4940d7-8a63-4d9a-aabe-bd929688f03b",
      "name": "Sticky Note18"
    },
    {
      "parameters": {
        "content": "",
        "height": 240,
        "width": 400,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2048,
        -592
      ],
      "typeVersion": 1,
      "id": "73c08dad-4337-40c3-865a-ba41978d2f9f",
      "name": "Sticky Note25"
    },
    {
      "parameters": {
        "description": "=Utiliza esta herramienta para pensar en algo. No tomes nueva información ni modifiques la base de datos, sino que se limitará a añadir el pensamiento al registro. Utilízala cuando necesites un razonamiento complejo o algo de memoria caché."
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [
        -1456,
        -448
      ],
      "id": "cd3b93f6-e029-4964-a216-8c82fbdca60b",
      "name": "pensamiento"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Recibes el siguiente mensaje:\n\n{{ $json.chatInput }}",
        "options": {
          "systemMessage": "=# Contexto\n\nEres el asistente personal definitivo. Tu trabajo es enviar la consulta del usuario a la herramienta correcta. Nunca debes redactar correos electrónicos ni crear resúmenes; solo necesitas llamar a la herramienta correcta.\n\n# Herramientas\n\npensamiento: Usa esto para pensar profundamente o si te quedas atascado.\n\nagente_gmail: Usa esta herramienta para realizar acciones en el correo electrónico.\n\nagente_calendar: Usa esta herramienta para realizar acciones en el calendario.\n\nagente_base_datos: Usa esta herramienta para obtener, actualizar o añadir contactos.\n\n# Reglas\n\nAlgunas acciones requieren que primero busques información de contacto. Para las siguientes acciones, debes obtener la dirección de correo electrónico y enviársela al agente que la necesite:\n\nEnviar correos electrónicos\n\nRedactar correos electrónicos\n\nCrear un evento de calendario con un asistente\n\n# Tarea\n\nLlamar a las herramientas necesarias según la solicitud del usuario.\n\nLlamar la herramienta \"pensamiento\" para verificar que tomaste los pasos correctos. Esta herramienta debe ser llamada cada vez.\n\n# Especificaciones\n\nSi tienes que listar una serie de Clientes de Sheets, hazlo con salto de linea y con -\n\n# Ejemplos\n\n## Input\n\nEnvía un correo electrónico a Pau Berenguer preguntándole cómo le va el día.\n\n## Acciones\n\n1. Utilizar la herramienta “agente_base_datos” para obtener al cliente.\n2. Utilizar la herramienta de  “agente_gmail” para enviar el correo electrónico.\n3. Utilizar la herramienta “pensamiento” para comprobar que todas las tareas han sido completadas.\n\n## Output\n\nAcabo de enviar el correo que me has pedido a Pau ¿Hay algo más en lo que pueda ayudarte?\n\n# Notas\n\nFecha y hora actuales: `{{ $now }}`\n\n# Reglas (Obligatorio CUmplir)\n\nSIEMPRE que llames a los Sub Agente de Gmail, Calendar y BBDD con las intenciones de buscar contactos, enviar un correo o agendar una reunión asegúrate SIEMPRE de darles la mayor cantidad de información posible. Esto significa que evíes todos los datos, características destalladas y, por supuesto, uno o varios correo electrónicos reales"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -1984,
        -528
      ],
      "id": "09784b73-30e2-4aa4-bce4-9e22c1e86d37",
      "name": "Agente Principal"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM",
          "mode": "list",
          "cachedResultName": "Clientes",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1809982475,
          "mode": "list",
          "cachedResultName": "Lista Clientes",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM/edit#gid=1809982475"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        -928,
        160
      ],
      "id": "ac4cd368-88db-41b9-b681-1bdc45160257",
      "name": "leer"
    },
    {
      "parameters": {
        "operation": "create",
        "documentId": {
          "__rl": true,
          "value": "1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM",
          "mode": "list",
          "cachedResultName": "Clientes",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM/edit?usp=drivesdk"
        },
        "title": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Title', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        -1056,
        160
      ],
      "id": "0af3357a-f2b0-4efc-afea-9a00e18e0907",
      "name": "crear"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM",
          "mode": "list",
          "cachedResultName": "Clientes",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1809982475,
          "mode": "list",
          "cachedResultName": "Lista Clientes",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1R2I8ATL1tRYWqRimBKBDFXREZa7nt9YDBmQfVS6OYgM/edit#gid=1809982475"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Nombre": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Nombre', ``, 'string') }}",
            "Correo Electrónico": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Correo_Electr_nico', ``, 'string') }}",
            "Teléfono": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tel_fono', ``, 'string') }}",
            "Empresa": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Empresa', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Nombre",
              "displayName": "Nombre",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Correo Electrónico",
              "displayName": "Correo Electrónico",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Teléfono",
              "displayName": "Teléfono",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Empresa",
              "displayName": "Empresa",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        -816,
        160
      ],
      "id": "e92314a7-e53e-44dd-a471-b9c7839b89a2",
      "name": "actualizar"
    },
    {
      "parameters": {
        "content": "",
        "width": 400,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1088,
        144
      ],
      "id": "b8ea902f-b0ff-4b7e-a087-a3fdade36b0b",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "",
        "height": 140,
        "width": 166,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -928,
        -240
      ],
      "id": "adac19d9-fc15-4e60-ab2c-fb595d3a94ba",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "infoasisttente@gmail.com",
          "mode": "list",
          "cachedResultName": "infoasisttente@gmail.com"
        },
        "start": "={{ $fromAI(\"eventStart\") }}",
        "end": "={{ $fromAI(\"eventEnd\") }}",
        "additionalFields": {
          "attendees": [],
          "summary": "={{ $fromAI(\"eventTitle\") }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -1248,
        176
      ],
      "id": "77ff36a4-e4a1-45b6-a424-bf7b987a6126",
      "name": "crear evento"
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "infoasisttente@gmail.com",
          "mode": "list",
          "cachedResultName": "infoasisttente@gmail.com"
        },
        "start": "={{ $fromAI(\"eventStart\") }}",
        "end": "={{ $fromAI(\"eventEnd\") }}",
        "additionalFields": {
          "attendees": [
            "={{ $fromAI(\"eventAttendeeEmail\") }}"
          ],
          "summary": "={{ $fromAI(\"eventTitle\") }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -1360,
        176
      ],
      "id": "f352de65-9d6e-4228-b31a-3b5d640a5090",
      "name": "crear evento asistente"
    },
    {
      "parameters": {
        "operation": "delete",
        "calendar": {
          "__rl": true,
          "value": "infoasisttente@gmail.com",
          "mode": "list",
          "cachedResultName": "infoasisttente@gmail.com"
        },
        "eventId": "={{ $fromAI(\"eventID\") }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -1488,
        176
      ],
      "id": "0c8fb27d-5862-4cb0-b010-bc1b2caaf646",
      "name": "eliminar evento"
    },
    {
      "parameters": {
        "operation": "update",
        "calendar": {
          "__rl": true,
          "value": "infoasisttente@gmail.com",
          "mode": "list",
          "cachedResultName": "infoasisttente@gmail.com"
        },
        "eventId": "={{ $fromAI(\"eventID\") }}",
        "updateFields": {
          "end": "={{ $fromAI(\"endTime\") }}",
          "start": "={{ $fromAI(\"startTime\") }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -1632,
        176
      ],
      "id": "bb303136-c514-4043-9cab-d012edec55a5",
      "name": "actualizar evento"
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "infoasisttente@gmail.com",
          "mode": "list",
          "cachedResultName": "infoasisttente@gmail.com"
        },
        "timeMin": "={{ $fromAI(\"dayBefore\",\"the day before the date the user requested\") }}",
        "timeMax": "={{ $fromAI(\"dayAfter\",\"the day after the date the user requested\") }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -1776,
        176
      ],
      "id": "9834f485-52be-4bad-b55f-c6c33806f7d4",
      "name": "obtener eventos"
    },
    {
      "parameters": {
        "content": "",
        "height": 164,
        "width": 680,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1824,
        144
      ],
      "id": "14986547-d35d-410f-94e7-1f02de5e3c35",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "",
        "height": 140,
        "width": 150,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1520,
        -256
      ],
      "id": "5c481bc7-4a81-4e67-a2dc-bfe505c1f86c",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "operation": "markAsUnread",
        "messageId": "={{ $fromAI(\"messageID\") }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2864,
        176
      ],
      "id": "69ba4df1-0031-4b42-824d-372ead0b8972",
      "name": "marcar como no leido",
      "webhookId": "a35af9d8-f67d-4ff9-803f-59ec6356e795"
    },
    {
      "parameters": {
        "sendTo": "={{ $fromAI(\"emailAddress\") }}",
        "subject": "={{ $fromAI(\"subject\") }}",
        "message": "={{ $fromAI(\"emailBody\") }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2736,
        176
      ],
      "id": "c2604881-b547-4667-b147-ed973846e49a",
      "name": "enviar email",
      "webhookId": "86c8c4b1-13bb-4ebe-acb9-30e1d7082d55"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $fromAI(\"ID\",\"the message ID\") }}",
        "message": "={{ $fromAI(\"emailBody\") }}",
        "options": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2608,
        176
      ],
      "id": "d9151b3f-5ac2-4cde-8766-6b74947da906",
      "name": "responder email",
      "webhookId": "114785e6-a859-432b-81b4-c490c1c35b1c"
    },
    {
      "parameters": {
        "operation": "addLabels",
        "messageId": "={{ $fromAI(\"ID\",\"the ID of the message\") }}",
        "labelIds": "={{ $fromAI(\"labelID\") }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2464,
        176
      ],
      "id": "f3c7ef34-edbd-4cac-a069-bbc6a5d6c7fe",
      "name": "etiquetar email",
      "webhookId": "0e951529-2e6d-40bf-ac40-fc0947e242e2"
    },
    {
      "parameters": {
        "resource": "label",
        "returnAll": true
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2320,
        176
      ],
      "id": "9e960383-7a30-458f-90c4-a45ee5242ab0",
      "name": "obtener etiquetas",
      "webhookId": "9e08b59e-792d-4566-83f1-9263c9ad86ae"
    },
    {
      "parameters": {
        "operation": "getAll",
        "limit": "={{ $fromAI(\"limit\",\"how many emails the user wants\") }}",
        "simple": false,
        "filters": {
          "sender": "={{ $fromAI(\"sender\",\"who the emails are from\") }}"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2176,
        176
      ],
      "id": "1af27904-f467-4de0-a12e-d062efca4bdd",
      "name": "obtener email",
      "webhookId": "af4b3298-9037-44b0-aa12-2acbfbb5e66f"
    },
    {
      "parameters": {
        "resource": "draft",
        "subject": "={{ $fromAI(\"subject\") }}",
        "emailType": "html",
        "message": "={{ $fromAI(\"emailBody\") }}",
        "options": {
          "threadId": "={{ $fromAI(\"threadID\") }}",
          "sendTo": "={{ $fromAI(\"emailAddress\") }}"
        }
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        -2048,
        176
      ],
      "id": "2069f5b5-6179-4bd2-a835-34fc817c410c",
      "name": "crear borrador",
      "webhookId": "17016bce-d7d7-428a-a56c-f6ea122db8be"
    },
    {
      "parameters": {
        "content": "",
        "height": 140,
        "width": 166,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2400,
        -240
      ],
      "id": "a731c06a-364b-4de7-b061-ecafed6a894d",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "content": "",
        "height": 164,
        "width": 980,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2912,
        144
      ],
      "id": "f5bac933-2d14-46b9-8166-2b344994c939",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "content": "",
        "height": 180,
        "width": 336,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1088,
        -96
      ],
      "id": "b8510639-ce33-4e2c-af53-7a7392e89da7",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "",
        "height": 180,
        "width": 336,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1696,
        -112
      ],
      "id": "7fff0584-ae0c-42a9-b06b-6ef3ece78d24",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "",
        "height": 180,
        "width": 336,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -2560,
        -96
      ],
      "id": "b05ebe77-c7c3-4d91-9311-f2d2c720159a",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.toolSerpApi",
      "typeVersion": 1,
      "position": [
        -1104,
        -464
      ],
      "id": "a5e97139-8262-40b1-8927-66379e04c6b9",
      "name": "SerpAPI"
    },
    {
      "parameters": {
        "content": "",
        "height": 180,
        "width": 208,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1168,
        -512
      ],
      "id": "ce67cbef-abf8-47ca-b753-0bbe4a07a9f4",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "toolDescription": "Utiliza esta herrmienta para acciones de Gmail",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "=# Rol\n\nEres un asistente de gestión de Correo Electrónico. \n\n# Especificaciones\n\nTodos los correos electrónicos deben tener un formato profesional en HTML y estar firmados como \"Pau Berenguer\".\n\n# Herramientas\n\n- Usa \"enviar email\" para enviar correos electrónicos.\n- Usa \"crear borrador\" si el usuario pide un borrador.\n- Usa \"marcar como no leido\" para marcar un correo electrónico como no leído. Primero debes usar \"Get Emails\" para tener el ID del mensaje del correo electrónico que deseas marcar.\n- Usa \"etiquetar email\" para etiquetar un correo electrónico. Primero debes usar \"obtener etiqueta\" para tener el ID del mensaje del correo electrónico que deseas etiquetar. Luego debes usar \"Get Labels\" para tener el ID de la etiqueta.\n- Usa \"responder email\" para responder a un correo electrónico. Primero debes usar \"obtener email\" para tener el ID del mensaje del correo electrónico al que deseas responder.\n\n# Notas\n\nFecha y hora actuales: {{ $now }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        -2528,
        -48
      ],
      "id": "37644536-450e-4003-9fcc-db35dbbf1522",
      "name": "agente_gmail"
    },
    {
      "parameters": {
        "toolDescription": "Utiliza esta herrmienta para acciones de Calendar",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "=# Rol\n\nEres un asistente de Calendario. \n\n# Contexto\n\nTus responsabilidades incluyen crear, obtener y eliminar eventos en el calendario del usuario.\n\n# Herramientas\n\n- Usa \"crear evento asistente\" cuando un evento incluye un participante.\n- Usa \"crear evento\" para eventos individuales.\n- Usa \"obtener eventos\" para buscar horarios del calendario cuando se solicite.\n- Usa \"eliminar evento\" para borrar un evento. Primero debes usar \"Obtener eventos\" para conseguir el ID del evento a eliminar.\n- Usa \"actualizar evento\" para actualizar un evento. Primero debes usar \"Obtener eventos\" para conseguir el ID del evento a actualizar.\n\n# Notas\n\nFecha y hora actuales: {{ $now }}\n\nSi no se especifica la duración de un evento, asume que será de una hora y agenda la reunión."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        -1664,
        -64
      ],
      "id": "1af312b1-6171-47c5-9375-fbdb8f65084f",
      "name": "agente_calendar"
    },
    {
      "parameters": {
        "toolDescription": "Utiliza esta herrmienta para acciones de Base de Datos",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "=# Rol\n\nEres un asistente de gestión de Base de Datos. \n\n# Especificaciones\n\nTus responsabilidades incluyen leer (buscar), crear y actualizar información de los clientes en nuestra base de datos.\n\n# Herramientas\n\n- Usa \"leer\" para revisar los clientes de nuestra base de datos.\n- Usa \"crear\" para crear nuevos clientes y añadirlos a nuestra base de datos.\n- Usa \"actualizar\" para cambiar actualizar información de los clientes en la base de datos."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        -1056,
        -64
      ],
      "id": "40ca1fcb-b65e-4dd4-82b1-d97d08d8fa2b",
      "name": "agente_dase_datos"
    },
    {
      "parameters": {
        "model": "openai/gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -2368,
        -208
      ],
      "id": "9835eea8-8d61-4604-a616-8303cbd7d1ab",
      "name": "OpenRouter #2"
    },
    {
      "parameters": {
        "model": "openai/gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -1488,
        -224
      ],
      "id": "ca322f73-6ea8-44e4-a38a-afdbcbb4a70d",
      "name": "OpenRouter #3"
    },
    {
      "parameters": {
        "model": "openai/gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -880,
        -224
      ],
      "id": "ddf41665-147f-4e5f-a972-2c0790258659",
      "name": "OpenRouter #4"
    },
    {
      "parameters": {
        "model": "openai/gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        -1536,
        -576
      ],
      "id": "c0246353-04d8-4df0-af2d-2473bbd1f104",
      "name": "OpenRouter #1"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -1376,
        -576
      ],
      "id": "181e2e64-f0ea-4d0c-b481-7a4ed51be3fe",
      "name": "Memoria"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2025-07-09T17:48:27.405Z",
      "updatedAt": "2025-07-09T17:48:27.405Z",
      "id": "Fjfc4tKSdaKUsmPc",
      "name": "Pau Berenguer"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-07-29T08:07:32.947Z",
  "versionId": "43980d54-e74d-42f8-bf13-9976db413862"
}