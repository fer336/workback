{
  "active": false,
  "connections": {
    "getPacientes": {
      "ai_tool": [
        [
          {
            "node": "pacientes",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "createPaciente": {
      "ai_tool": [
        [
          {
            "node": "pacientes",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "getPaciente": {
      "ai_tool": [
        [
          {
            "node": "pacientes",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "updatePaciente": {
      "ai_tool": [
        [
          {
            "node": "pacientes",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "deletePaciente": {
      "ai_tool": [
        [
          {
            "node": "pacientes",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "getCitas": {
      "ai_tool": [
        [
          {
            "node": "citas",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "createCita": {
      "ai_tool": [
        [
          {
            "node": "citas",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "getCita": {
      "ai_tool": [
        [
          {
            "node": "citas",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "updateCita": {
      "ai_tool": [
        [
          {
            "node": "citas",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "deleteCita": {
      "ai_tool": [
        [
          {
            "node": "citas",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-10T17:19:15.077Z",
  "id": "vOgSLhy14FJGCOeN",
  "isArchived": true,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "AGENDAR CITAS - MCP NB-GC",
  "nodes": [
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "p54buvqu7ncflc4",
        "table": "my20kxsgv3p5fct",
        "returnAll": true,
        "options": {}
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1056,
        360
      ],
      "id": "2c8feb70-8311-4190-9ec7-b03ff49e8551",
      "name": "getPacientes",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "create",
        "projectId": "p54buvqu7ncflc4",
        "table": "my20kxsgv3p5fct",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "paciente",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('paciente', `Nombre del paciente`, 'string') }}"
            },
            {
              "fieldName": "telefono",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('telefono', `Teléfono del paciente`, 'string') }}"
            },
            {
              "fieldName": "correo",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('correo', `Correo electrónico del paciente`, 'string') }}"
            },
            {
              "fieldName": "Citas",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Citas', `Referencias a citas del paciente`, 'string') }}"
            },
            {
              "fieldName": "Usuarios_id",
              "fieldValue": "={{ $fromAI('Usuario', `Referencias a usuarios asociados`, 'number') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1184,
        360
      ],
      "id": "8304c8a0-ff6c-4388-846b-efd96e8177c3",
      "name": "createPaciente",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "projectId": "p54buvqu7ncflc4",
        "table": "my20kxsgv3p5fct",
        "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID', `ID del paciente a obtener`, 'string') }}"
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1312,
        360
      ],
      "id": "fd0d80ac-daf9-4ebb-a348-1df81911a4ab",
      "name": "getPaciente",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "p54buvqu7ncflc4",
        "table": "my20kxsgv3p5fct",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "paciente",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('paciente', `Nombre del paciente`, 'string') }}"
            },
            {
              "fieldName": "telefono",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('telefono', `Teléfono del paciente`, 'string') }}"
            },
            {
              "fieldName": "correo",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('correo', `Correo electrónico del paciente`, 'string') }}"
            },
            {
              "fieldName": "Citas",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Citas', `Referencias a citas del paciente`, 'string') }}"
            },
            {
              "fieldName": "Usuarios",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Usuarios', `Referencias a usuarios asociados`, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1440,
        360
      ],
      "id": "dbdebc86-8bed-4040-bff0-abc43bcff37c",
      "name": "updatePaciente",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "delete",
        "projectId": "p54buvqu7ncflc4",
        "table": "my20kxsgv3p5fct",
        "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID', `ID del paciente a eliminar`, 'string') }}"
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1568,
        360
      ],
      "id": "62714c77-a0ae-42fd-8029-da56431ec1f6",
      "name": "deletePaciente",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "path": "pacientes"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 2,
      "position": [
        1216,
        136
      ],
      "id": "42137766-07d4-42ca-b102-709208fc67e3",
      "name": "pacientes",
      "webhookId": "4b6040ae-d8e5-4628-9ff1-b2bd456379eb"
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "getAll",
        "projectId": "p54buvqu7ncflc4",
        "table": "mv25ssjt8aflxrb",
        "returnAll": true,
        "options": {}
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1056,
        -176
      ],
      "id": "c1c03a78-4b3b-49a5-ad61-f47d9d54cbc8",
      "name": "getCitas",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "create",
        "projectId": "p54buvqu7ncflc4",
        "table": "mv25ssjt8aflxrb",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "fecha",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fecha', `Fecha de la cita en formato ISO`, 'string') }}"
            },
            {
              "fieldName": "nc_order",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('nc_order', `Orden de la cita`, 'string') }}"
            },
            {
              "fieldName": "Usuarios_id",
              "fieldValue": "={{ $fromAI('Usuario', ``, 'number') }}"
            },
            {
              "fieldName": "Pacientes_id",
              "fieldValue": "={{ $fromAI('Id', `ID del paciente para la relación`, 'number') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1184,
        -176
      ],
      "id": "8c35744f-87d0-4569-8eb6-4b92b4a8fa64",
      "name": "createCita",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "projectId": "p54buvqu7ncflc4",
        "table": "mv25ssjt8aflxrb",
        "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID', `ID del registro a obtener`, 'string') }}"
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1312,
        -176
      ],
      "id": "f242684f-91c6-4560-94d0-25654fce28d7",
      "name": "getCita",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "update",
        "projectId": "p54buvqu7ncflc4",
        "table": "mv25ssjt8aflxrb",
        "fieldsUi": {
          "fieldValues": [
            {
              "fieldName": "fecha",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('fecha', `Fecha de la cita en formato ISO`, 'string') }}"
            },
            {
              "fieldName": "nc_order",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('nc_order', `Orden de la cita`, 'string') }}"
            },
            {
              "fieldName": "Usuarios_id",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Usuarios', `ID del usuario asignado`, 'string') }}"
            },
            {
              "fieldName": "Pacientes_id",
              "fieldValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Pacientes', `ID del paciente para la relación`, 'string') }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1440,
        -176
      ],
      "id": "e6bcb50f-5b5c-4bf9-a157-6c3aaee4ac27",
      "name": "updateCita",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "authentication": "nocoDbApiToken",
        "operation": "delete",
        "projectId": "p54buvqu7ncflc4",
        "table": "mv25ssjt8aflxrb",
        "id": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('ID', `ID del registro a eliminar`, 'string') }}"
      },
      "type": "n8n-nodes-base.nocoDbTool",
      "typeVersion": 3,
      "position": [
        1568,
        -176
      ],
      "id": "9fdf6150-13f5-47fd-8534-24961100a012",
      "name": "deleteCita",
      "credentials": {
        "nocoDbApiToken": {
          "id": "KRVylWU1iQ1qxa6v",
          "name": "Qeva BD"
        }
      }
    },
    {
      "parameters": {
        "path": "citas"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 2,
      "position": [
        1216,
        -400
      ],
      "id": "0e551420-8436-4e4b-acea-d29d957c62ac",
      "name": "citas",
      "webhookId": "4b6040ae-d8e5-4628-9ff1-b2bd456379eb"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1",
    "timezone": "America/Argentina/Buenos_Aires",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 2,
  "updatedAt": "2025-07-19T09:54:20.424Z",
  "versionId": "cec8c7e5-14b2-4861-8e23-2a01da9807e2"
}